{"id":"GoPit-07u","title":"Add XP bar to HUD","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:16:14.961863-06:00","created_by":"randroid","updated_at":"2026-01-04T23:58:48.445229-06:00","closed_at":"2026-01-04T23:58:48.445229-06:00","close_reason":"Closed"}
{"id":"GoPit-0rg","title":"Add wave transition announcement","description":"## Problem\nWave counter silently increments. Players don't notice progression or feel accomplishment.\n\n## Implementation Plan\n\n### Wave Announcement UI\n**File: `scripts/ui/wave_announcement.gd`** (new)\n\n```gdscript\nextends CanvasLayer\n\n@onready var wave_label: Label = $WaveLabel\n\nfunc _ready():\n    visible = false\n    GameManager.wave_changed.connect(_on_wave_changed)\n\nfunc _on_wave_changed(new_wave: int):\n    _show_announcement(new_wave)\n\nfunc _show_announcement(wave: int):\n    wave_label.text = \"WAVE %d\" % wave\n    visible = true\n    wave_label.modulate.a = 0\n    wave_label.scale = Vector2(0.5, 0.5)\n    \n    var tween = create_tween()\n    # Fade in and scale up\n    tween.tween_property(wave_label, \"modulate:a\", 1.0, 0.2)\n    tween.parallel().tween_property(wave_label, \"scale\", Vector2(1.2, 1.2), 0.2)\n    # Hold\n    tween.tween_interval(0.8)\n    # Fade out and scale down\n    tween.tween_property(wave_label, \"modulate:a\", 0.0, 0.3)\n    tween.parallel().tween_property(wave_label, \"scale\", Vector2(0.8, 0.8), 0.3)\n    tween.tween_callback(func(): visible = false)\n```\n\n### Scene Structure\n**File: `scenes/ui/wave_announcement.tscn`**\n\n```\nWaveAnnouncement (CanvasLayer)\n‚îî‚îÄ‚îÄ CenterContainer (anchors: full rect)\n    ‚îî‚îÄ‚îÄ WaveLabel (Label)\n        - font_size: 72\n        - font: bold\n        - outline_size: 4\n        - outline_color: black\n        - horizontal_alignment: CENTER\n```\n\n### Add Wave Sound\n**Modify: `scripts/autoload/sound_manager.gd`**\n\nAdd new sound type:\n```gdscript\nenum SoundType { ..., WAVE_COMPLETE }\n\nfunc _generate_wave_complete() -\u003e AudioStreamWAV:\n    # Rising arpeggio: C-E-G-C (major chord)\n    # Duration: 0.4s\n    # Celebratory feel\n```\n\n### Wire Up Signal\n**Modify: `scripts/autoload/game_manager.gd`**\n\n```gdscript\nsignal wave_changed(new_wave: int)\n\nfunc advance_wave() -\u003e void:\n    current_wave += 1\n    wave_changed.emit(current_wave)\n```\n\n**Modify: `scripts/game/game_controller.gd`**\n\n```gdscript\nfunc _advance_wave() -\u003e void:\n    enemies_killed_this_wave = 0\n    GameManager.advance_wave()\n    SoundManager.play(SoundManager.SoundType.WAVE_COMPLETE)\n```\n\n### Optional: Brief Slowmo\n**Modify: `scripts/game/game_controller.gd`**\n\n```gdscript\nfunc _advance_wave() -\u003e void:\n    # Brief slowmo effect\n    Engine.time_scale = 0.3\n    await get_tree().create_timer(0.3 * 0.3).timeout  # Account for time scale\n    Engine.time_scale = 1.0\n    \n    # Continue with wave advance...\n```\n\n### Files to Create/Modify\n1. NEW: `scenes/ui/wave_announcement.tscn`\n2. NEW: `scripts/ui/wave_announcement.gd`\n3. MODIFY: `scenes/game.tscn` - instance wave_announcement\n4. MODIFY: `scripts/autoload/game_manager.gd` - add wave_changed signal\n5. MODIFY: `scripts/autoload/sound_manager.gd` - add WAVE_COMPLETE sound\n6. MODIFY: `scripts/game/game_controller.gd` - play sound, optional slowmo","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-05T01:48:08.54811-06:00","created_by":"randroid","updated_at":"2026-01-05T02:04:53.721039-06:00"}
{"id":"GoPit-0x8","title":"Add procedural background music","description":"## Problem\nGame is silent except for SFX. Feels empty and less engaging.\n\n## Implementation Plan\n\n### Approach: Extend SoundManager with procedural music generation\n\n**Modify: `scripts/autoload/sound_manager.gd`**\n\n```gdscript\n# Add music generation alongside existing SFX\n\nvar music_player: AudioStreamPlayer\nvar current_tempo: float = 120.0  # BPM\nvar current_wave: int = 1\nvar beat_timer: float = 0.0\n\n# Pentatonic scale for pleasant procedural music\nconst SCALE = [0, 2, 4, 7, 9, 12, 14, 16]  # C pentatonic\nconst BASE_FREQ = 130.81  # C3\n\nfunc _ready():\n    # ... existing code ...\n    _setup_music_player()\n    \nfunc _setup_music_player():\n    music_player = AudioStreamPlayer.new()\n    music_player.bus = \"Music\"\n    add_child(music_player)\n\nfunc _process(delta):\n    if GameManager.current_state == GameManager.GameState.PLAYING:\n        _update_music(delta)\n\nfunc _update_music(delta):\n    beat_timer += delta\n    var beat_duration = 60.0 / current_tempo\n    \n    if beat_timer \u003e= beat_duration:\n        beat_timer -= beat_duration\n        _play_beat()\n\nfunc _play_beat():\n    # Generate bass note on beat 1, 3\n    # Generate melody note with probability\n    # Intensity increases with wave\n    pass\n\nfunc set_wave_intensity(wave: int):\n    current_wave = wave\n    current_tempo = 100 + wave * 5  # Faster tempo each wave\n```\n\n### Audio Bus Setup\nAdd to project settings:\n- Master bus\n- SFX bus (child of Master)\n- Music bus (child of Master)\n\n### Wave-based Intensity\n- Wave 1-2: Calm ambient (slow tempo, sparse notes)\n- Wave 3-5: Building (medium tempo, bass + melody)\n- Wave 6+: Intense (fast tempo, full arrangement)\n\n### Files to Modify\n1. MODIFY: `scripts/autoload/sound_manager.gd` - add music generation\n2. MODIFY: `project.godot` - add audio buses\n3. MODIFY: `scripts/game/game_controller.gd` - call set_wave_intensity()\n\n### Alternative: Pre-made loops\nIf procedural is too complex, use layered audio loops that fade in/out based on wave intensity.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-05T02:02:57.247416-06:00","created_by":"randroid","updated_at":"2026-01-05T02:02:57.247416-06:00"}
{"id":"GoPit-1bl","title":"Create level_up.tscn (3 hardcoded upgrade cards)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:16:15.232129-06:00","created_by":"randroid","updated_at":"2026-01-05T00:01:32.992237-06:00","closed_at":"2026-01-05T00:01:32.992237-06:00","close_reason":"Closed"}
{"id":"GoPit-1db","title":"Set up collision layers (walls, balls, enemies, gems, player_zone)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:10.864904-06:00","created_by":"randroid","updated_at":"2026-01-04T23:53:52.016378-06:00","closed_at":"2026-01-04T23:53:52.016378-06:00","close_reason":"Closed"}
{"id":"GoPit-1lq","title":"Implement upgrade effects (damage+, fire rate+, HP+)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:16:15.509097-06:00","created_by":"randroid","updated_at":"2026-01-05T00:01:32.994022-06:00","closed_at":"2026-01-05T00:01:32.994022-06:00","close_reason":"Closed"}
{"id":"GoPit-1o7","title":"Create enemy_base.gd (HP, speed, take_damage, death signal)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:45.389758-06:00","created_by":"randroid","updated_at":"2026-01-04T23:51:41.177637-06:00","closed_at":"2026-01-04T23:51:41.177637-06:00","close_reason":"Closed"}
{"id":"GoPit-267","title":"Add meta-progression system (Pit Coins)","description":"## Problem\nNo meta-progression system exists. Each run starts fresh with no permanent upgrades, unlocks, or currency. Players have no reason to replay after initial curiosity wears off. This is the #1 retention killer.\n\n## Implementation Plan\n\n### Phase 1: Currency System\n**File: `scripts/autoload/meta_manager.gd`** (new autoload)\n\n```gdscript\nextends Node\n# Persisted data\nvar pit_coins: int = 0\nvar total_runs: int = 0\nvar unlocked_upgrades: Array[String] = []\n\nfunc _ready():\n    load_data()\n\nfunc earn_coins(wave: int, level: int) -\u003e int:\n    var earned = wave * 10 + level * 25\n    pit_coins += earned\n    save_data()\n    return earned\n\nfunc spend_coins(amount: int) -\u003e bool:\n    if pit_coins \u003e= amount:\n        pit_coins -= amount\n        save_data()\n        return true\n    return false\n\nfunc save_data():\n    var data = {\"coins\": pit_coins, \"runs\": total_runs, \"unlocks\": unlocked_upgrades}\n    var file = FileAccess.open(\"user://meta.save\", FileAccess.WRITE)\n    file.store_string(JSON.stringify(data))\n\nfunc load_data():\n    if FileAccess.file_exists(\"user://meta.save\"):\n        var file = FileAccess.open(\"user://meta.save\", FileAccess.READ)\n        var data = JSON.parse_string(file.get_as_text())\n        pit_coins = data.get(\"coins\", 0)\n        total_runs = data.get(\"runs\", 0)\n        unlocked_upgrades = data.get(\"unlocks\", [])\n```\n\n### Phase 2: Permanent Upgrades\n**File: `scripts/data/permanent_upgrades.gd`**\n\nDefine permanent upgrades purchasable with Pit Coins:\n- Starting HP +10 (cost: 100, 200, 400, 800...)\n- Starting Damage +2 (cost: 150, 300, 600...)\n- Starting Fire Rate -0.05s (cost: 200, 400, 800...)\n- Unlock ball types (cost: 500 each)\n\n### Phase 3: UI Integration\n**File: `scenes/ui/meta_shop.tscn`** (new scene)\n\n- Main menu with \"SHOP\" button\n- Grid of upgrade cards showing:\n  - Upgrade name and current level\n  - Cost for next level\n  - Buy button (disabled if insufficient coins)\n- Coin balance display in corner\n\n### Phase 4: Game Over Integration\n**Modify: `scripts/ui/game_over_overlay.gd`**\n\n- Show coins earned this run\n- Show total coin balance\n- Add \"SHOP\" button to go to upgrade menu\n\n### Files to Create/Modify\n1. NEW: `scripts/autoload/meta_manager.gd`\n2. NEW: `scripts/data/permanent_upgrades.gd`\n3. NEW: `scenes/ui/meta_shop.tscn`\n4. NEW: `scripts/ui/meta_shop.gd`\n5. MODIFY: `scripts/ui/game_over_overlay.gd`\n6. MODIFY: `project.godot` (add MetaManager autoload)\n7. NEW: `scenes/main_menu.tscn` (optional - for shop access)\n\n### Testing\n- Verify coins save/load correctly\n- Verify upgrades apply on game start\n- Verify coins accumulate across runs\n- Test purchase flow and insufficient funds","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-05T02:02:56.728446-06:00","created_by":"randroid","updated_at":"2026-01-05T02:02:56.728446-06:00","dependencies":[{"issue_id":"GoPit-267","depends_on_id":"GoPit-zb6","type":"blocks","created_at":"2026-01-05T02:15:50.797843-06:00","created_by":"randroid"}]}
{"id":"GoPit-28w","title":"Expand upgrade variety to 8+ types","description":"## Problem\nOnly 3 upgrade types exist. All shown every level-up. No interesting choices or build diversity.\n\n## Implementation Plan\n\n### Phase 1: Expand Upgrade Data\n**Modify: `scripts/ui/level_up_overlay.gd`**\n\n```gdscript\nenum UpgradeType {\n    DAMAGE,\n    FIRE_RATE,\n    MAX_HP,\n    MULTI_SHOT,\n    BALL_SPEED,\n    PIERCING,\n    RICOCHET,\n    CRITICAL,\n    MAGNETISM,\n    HEAL\n}\n\nconst UPGRADE_DATA := {\n    UpgradeType.DAMAGE: {\n        \"name\": \"Power Up\",\n        \"description\": \"+5 Ball Damage\",\n        \"icon\": \"‚öîÔ∏è\",\n        \"apply\": \"_apply_damage_upgrade\",\n        \"max_stacks\": 10\n    },\n    UpgradeType.FIRE_RATE: {\n        \"name\": \"Quick Fire\",\n        \"description\": \"-0.1s Cooldown\",\n        \"icon\": \"‚ö°\",\n        \"apply\": \"_apply_fire_rate_upgrade\",\n        \"max_stacks\": 4  # Min cooldown 0.1s\n    },\n    UpgradeType.MAX_HP: {\n        \"name\": \"Vitality\",\n        \"description\": \"+25 Max HP\",\n        \"icon\": \"‚ù§Ô∏è\",\n        \"apply\": \"_apply_hp_upgrade\",\n        \"max_stacks\": 10\n    },\n    UpgradeType.MULTI_SHOT: {\n        \"name\": \"Multi Shot\",\n        \"description\": \"Fire 2 balls (spread)\",\n        \"icon\": \"üî±\",\n        \"apply\": \"_apply_multi_shot\",\n        \"max_stacks\": 3  # Up to 4 balls\n    },\n    UpgradeType.BALL_SPEED: {\n        \"name\": \"Velocity\",\n        \"description\": \"+100 Ball Speed\",\n        \"icon\": \"üí®\",\n        \"apply\": \"_apply_speed_upgrade\",\n        \"max_stacks\": 5\n    },\n    UpgradeType.PIERCING: {\n        \"name\": \"Piercing\",\n        \"description\": \"Ball pierces 1 enemy\",\n        \"icon\": \"üéØ\",\n        \"apply\": \"_apply_piercing\",\n        \"max_stacks\": 3\n    },\n    UpgradeType.RICOCHET: {\n        \"name\": \"Ricochet\",\n        \"description\": \"+2 wall bounces\",\n        \"icon\": \"‚Ü©Ô∏è\",\n        \"apply\": \"_apply_ricochet\",\n        \"max_stacks\": 5\n    },\n    UpgradeType.CRITICAL: {\n        \"name\": \"Critical Hit\",\n        \"description\": \"10% chance 2x damage\",\n        \"icon\": \"üí•\",\n        \"apply\": \"_apply_critical\",\n        \"max_stacks\": 5  # Up to 50%\n    },\n    UpgradeType.MAGNETISM: {\n        \"name\": \"Magnetism\",\n        \"description\": \"Gems attracted to you\",\n        \"icon\": \"üß≤\",\n        \"apply\": \"_apply_magnetism\",\n        \"max_stacks\": 3\n    },\n    UpgradeType.HEAL: {\n        \"name\": \"Heal\",\n        \"description\": \"Restore 30 HP\",\n        \"icon\": \"üíö\",\n        \"apply\": \"_apply_heal\",\n        \"max_stacks\": 99  # Always available\n    }\n}\n\nvar upgrade_stacks: Dictionary = {}  # Track how many times each upgrade taken\n\nfunc _randomize_upgrades() -\u003e void:\n    _available_upgrades.clear()\n    var pool: Array[UpgradeType] = []\n    \n    # Add upgrades that haven't hit max stacks\n    for upgrade_type in UPGRADE_DATA:\n        var data = UPGRADE_DATA[upgrade_type]\n        var current_stacks = upgrade_stacks.get(upgrade_type, 0)\n        if current_stacks \u003c data.get(\"max_stacks\", 99):\n            pool.append(upgrade_type)\n    \n    pool.shuffle()\n    _available_upgrades = pool.slice(0, 3)\n```\n\n### Phase 2: New Upgrade Implementations\n**Modify: `scripts/entities/ball_spawner.gd`**\n\n```gdscript\nvar ball_count: int = 1\nvar ball_spread: float = 0.0\n\nfunc fire() -\u003e void:\n    for i in range(ball_count):\n        var spread_offset = (i - (ball_count - 1) / 2.0) * ball_spread\n        var dir = aim_direction.rotated(spread_offset)\n        _spawn_ball(dir)\n\nfunc add_multi_shot():\n    ball_count += 1\n    ball_spread = 0.15  # radians between balls\n```\n\n**Modify: `scripts/entities/ball.gd`**\n\n```gdscript\nvar pierce_count: int = 0\nvar max_bounces: int = 10  # Default wall bounces\nvar crit_chance: float = 0.0\n\nfunc _on_hit_enemy(enemy):\n    var actual_damage = damage\n    if randf() \u003c crit_chance:\n        actual_damage *= 2\n        # Visual crit indicator\n    \n    enemy.take_damage(actual_damage)\n    \n    if pierce_count \u003e 0:\n        pierce_count -= 1\n        # Don't bounce, continue through\n    else:\n        direction = direction.bounce(collision_normal)\n```\n\n### Phase 3: Magnetism System\n**Modify: `scripts/entities/gem.gd`**\n\n```gdscript\nvar magnetism_range: float = 0.0  # Set by GameManager\nvar magnetism_speed: float = 500.0\n\nfunc _physics_process(delta):\n    if magnetism_range \u003e 0:\n        var player_zone_y = 1200  # Player zone Y position\n        var distance_to_zone = player_zone_y - global_position.y\n        \n        if distance_to_zone \u003c magnetism_range:\n            # Accelerate toward player zone\n            var pull_strength = 1.0 - (distance_to_zone / magnetism_range)\n            fall_speed = lerp(fall_speed, magnetism_speed, pull_strength * delta * 5)\n```\n\n### Files to Modify\n1. MODIFY: `scripts/ui/level_up_overlay.gd` - expand upgrade data\n2. MODIFY: `scripts/entities/ball_spawner.gd` - multi-shot support\n3. MODIFY: `scripts/entities/ball.gd` - pierce, crit, bounce tracking\n4. MODIFY: `scripts/entities/gem.gd` - magnetism attraction\n5. MODIFY: `scripts/autoload/game_manager.gd` - store upgrade stats\n\n### Testing\n- Verify 3 random upgrades shown each level-up\n- Verify max stack limits work\n- Verify each upgrade applies correctly\n- Test upgrade synergies (multi-shot + piercing)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-05T01:48:09.081238-06:00","created_by":"randroid","updated_at":"2026-01-05T02:11:13.706458-06:00"}
{"id":"GoPit-2si","title":"Add enemy approach warning","description":"## Problem\nPlayers are caught off-guard when enemies deal damage. No warning when enemies approach.\n\n## Implementation Plan\n\n### Approach: Warning zone detection + visual/audio cues\n\n### Phase 1: Warning Zone Detection\n**Modify: `scripts/entities/enemies/enemy_base.gd`**\n\n```gdscript\nsignal approaching_danger_zone\nsignal left_danger_zone\n\nconst DANGER_ZONE_Y: float = 1000.0  # 200px above player zone at 1200\n\nvar in_danger_zone: bool = false\n\nfunc _physics_process(delta):\n    # Existing movement...\n    \n    # Check danger zone\n    var now_in_danger = global_position.y \u003e= DANGER_ZONE_Y\n    if now_in_danger and not in_danger_zone:\n        in_danger_zone = true\n        approaching_danger_zone.emit()\n    elif not now_in_danger and in_danger_zone:\n        in_danger_zone = false\n        left_danger_zone.emit()\n```\n\n### Phase 2: Screen Edge Warning\n**File: `scripts/effects/danger_indicator.gd`** (new)\n\n```gdscript\nextends Control\n## Shows pulsing red indicator at bottom of screen when enemies are near\n\nvar danger_count: int = 0\nvar pulse_tween: Tween\n\n@onready var indicator: ColorRect = $Indicator\n\nfunc _ready():\n    indicator.color = Color(1, 0, 0, 0)\n    \nfunc add_danger():\n    danger_count += 1\n    if danger_count == 1:\n        _start_pulsing()\n\nfunc remove_danger():\n    danger_count = max(0, danger_count - 1)\n    if danger_count == 0:\n        _stop_pulsing()\n\nfunc _start_pulsing():\n    if pulse_tween:\n        pulse_tween.kill()\n    pulse_tween = create_tween().set_loops()\n    pulse_tween.tween_property(indicator, \"color:a\", 0.5, 0.3)\n    pulse_tween.tween_property(indicator, \"color:a\", 0.2, 0.3)\n\nfunc _stop_pulsing():\n    if pulse_tween:\n        pulse_tween.kill()\n    var fade = create_tween()\n    fade.tween_property(indicator, \"color:a\", 0.0, 0.2)\n```\n\n### Scene Structure\n**File: `scenes/ui/danger_indicator.tscn`**\n\n```\nDangerIndicator (Control) [anchors: bottom, full width]\n‚îî‚îÄ‚îÄ Indicator (ColorRect)\n    - size: full width x 20px\n    - color: red with 0 alpha\n    - position: bottom of screen\n```\n\n### Phase 3: Enemy Visual Change\n**Modify: `scripts/entities/enemies/enemy_base.gd`**\n\n```gdscript\nfunc _on_enter_danger_zone():\n    # Tint enemy red\n    modulate = Color(1.5, 0.5, 0.5)\n    \n    # Optional: speed up slightly\n    speed *= 1.1\n\nfunc _on_exit_danger_zone():\n    modulate = Color.WHITE\n```\n\n### Phase 4: Audio Warning\n**Modify: `scripts/autoload/sound_manager.gd`**\n\nAdd low-frequency pulse sound for danger:\n```gdscript\nenum SoundType { ..., DANGER_PULSE }\n\nvar danger_pulse_timer: float = 0.0\n\nfunc _process(delta):\n    if danger_count \u003e 0:\n        danger_pulse_timer += delta\n        if danger_pulse_timer \u003e= 0.5:  # Pulse every 0.5s\n            danger_pulse_timer = 0\n            play(SoundType.DANGER_PULSE)\n```\n\n### Wire Up in Game Controller\n**Modify: `scripts/game/game_controller.gd`**\n\n```gdscript\n@onready var danger_indicator: Control = $UI/DangerIndicator\n\nfunc _on_enemy_spawned(enemy: EnemyBase) -\u003e void:\n    enemy.died.connect(_on_enemy_died)\n    enemy.approaching_danger_zone.connect(func(): danger_indicator.add_danger())\n    enemy.left_danger_zone.connect(func(): danger_indicator.remove_danger())\n```\n\n### Files to Create/Modify\n1. NEW: `scenes/ui/danger_indicator.tscn`\n2. NEW: `scripts/effects/danger_indicator.gd`\n3. MODIFY: `scenes/game.tscn` - add danger indicator\n4. MODIFY: `scripts/entities/enemies/enemy_base.gd` - danger zone signals, visual\n5. MODIFY: `scripts/game/game_controller.gd` - wire danger signals\n6. MODIFY: `scripts/autoload/sound_manager.gd` - add DANGER_PULSE sound","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-05T01:48:08.8142-06:00","created_by":"randroid","updated_at":"2026-01-05T02:04:53.970395-06:00"}
{"id":"GoPit-33z","title":"Add detailed stats to game over screen","description":"## Problem\nGame over shows only level and wave. Missing interesting stats.\n\n## Implementation Plan\n\n### Phase 1: Track Stats in GameManager\n**Modify: `scripts/autoload/game_manager.gd`**\n\n```gdscript\n# Session stats (reset each run)\nvar stats := {\n    \"enemies_killed\": 0,\n    \"balls_fired\": 0,\n    \"damage_dealt\": 0,\n    \"gems_collected\": 0,\n    \"time_survived\": 0.0,\n    \"highest_combo\": 0,\n    \"current_combo\": 0,\n    \"combo_timer\": 0.0\n}\n\nfunc _process(delta):\n    if current_state == GameState.PLAYING:\n        stats.time_survived += delta\n        \n        # Combo timeout\n        if stats.combo_timer \u003e 0:\n            stats.combo_timer -= delta\n            if stats.combo_timer \u003c= 0:\n                stats.current_combo = 0\n\nfunc record_enemy_kill():\n    stats.enemies_killed += 1\n    stats.current_combo += 1\n    stats.combo_timer = 2.0  # 2 second combo window\n    stats.highest_combo = max(stats.highest_combo, stats.current_combo)\n\nfunc record_ball_fired():\n    stats.balls_fired += 1\n\nfunc record_damage_dealt(amount: int):\n    stats.damage_dealt += amount\n\nfunc record_gem_collected():\n    stats.gems_collected += 1\n\nfunc _reset_stats():\n    # Reset session stats\n    for key in stats:\n        if typeof(stats[key]) == TYPE_INT:\n            stats[key] = 0\n        else:\n            stats[key] = 0.0\n```\n\n### Phase 2: Update Game Over UI\n**Modify: `scenes/ui/game_over_overlay.tscn`**\n\n```\nGameOverOverlay\n‚îî‚îÄ‚îÄ Panel\n    ‚îî‚îÄ‚îÄ VBoxContainer\n        ‚îú‚îÄ‚îÄ GameOverLabel\n        ‚îú‚îÄ‚îÄ StatsContainer (GridContainer, 2 columns)\n        ‚îÇ   ‚îú‚îÄ‚îÄ Label (\"Level:\")\n        ‚îÇ   ‚îú‚îÄ‚îÄ LevelValue\n        ‚îÇ   ‚îú‚îÄ‚îÄ Label (\"Wave:\")\n        ‚îÇ   ‚îú‚îÄ‚îÄ WaveValue\n        ‚îÇ   ‚îú‚îÄ‚îÄ Label (\"Enemies Killed:\")\n        ‚îÇ   ‚îú‚îÄ‚îÄ EnemiesValue\n        ‚îÇ   ‚îú‚îÄ‚îÄ Label (\"Damage Dealt:\")\n        ‚îÇ   ‚îú‚îÄ‚îÄ DamageValue\n        ‚îÇ   ‚îú‚îÄ‚îÄ Label (\"Time Survived:\")\n        ‚îÇ   ‚îú‚îÄ‚îÄ TimeValue\n        ‚îÇ   ‚îú‚îÄ‚îÄ Label (\"Best Combo:\")\n        ‚îÇ   ‚îú‚îÄ‚îÄ ComboValue\n        ‚îî‚îÄ‚îÄ RestartButton\n```\n\n**Modify: `scripts/ui/game_over_overlay.gd`**\n\n```gdscript\nfunc _on_game_over():\n    visible = true\n    \n    level_label.text = str(GameManager.player_level)\n    wave_label.text = str(GameManager.current_wave)\n    enemies_label.text = str(GameManager.stats.enemies_killed)\n    damage_label.text = str(GameManager.stats.damage_dealt)\n    combo_label.text = str(GameManager.stats.highest_combo)\n    \n    var time = GameManager.stats.time_survived\n    var minutes = int(time) / 60\n    var seconds = int(time) % 60\n    time_label.text = \"%d:%02d\" % [minutes, seconds]\n```\n\n### Phase 3: Wire Up Stat Recording\n**Modify: `scripts/game/game_controller.gd`**\n\n```gdscript\nfunc _on_fire_pressed():\n    ball_spawner.fire()\n    GameManager.record_ball_fired()\n\nfunc _on_enemy_died(enemy):\n    GameManager.record_enemy_kill()\n    # existing code...\n```\n\n**Modify: `scripts/entities/enemies/enemy_base.gd`**\n\n```gdscript\nfunc take_damage(amount: int):\n    GameManager.record_damage_dealt(amount)\n    # existing code...\n```\n\n### Files to Modify\n1. MODIFY: `scripts/autoload/game_manager.gd` - add stats tracking\n2. MODIFY: `scenes/ui/game_over_overlay.tscn` - expand UI\n3. MODIFY: `scripts/ui/game_over_overlay.gd` - display all stats\n4. MODIFY: `scripts/game/game_controller.gd` - record events\n5. MODIFY: `scripts/entities/enemies/enemy_base.gd` - record damage","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T02:12:31.978956-06:00","created_by":"randroid","updated_at":"2026-01-05T02:12:31.978956-06:00"}
{"id":"GoPit-3ak","title":"Implement restart flow (reset state, reload scene)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:16:00.860779-06:00","created_by":"randroid","updated_at":"2026-01-04T23:58:36.24695-06:00","closed_at":"2026-01-04T23:58:36.24695-06:00","close_reason":"Closed"}
{"id":"GoPit-3e4","title":"Add ball limit for performance","description":"## Problem\nWith fire rate upgrades, many balls can exist simultaneously. Could cause performance issues.\n\n## Implementation Plan\n\n### Add Ball Limit to Spawner\n**Modify: `scripts/entities/ball_spawner.gd`**\n\n```gdscript\n@export var max_balls: int = 25\n\nfunc fire() -\u003e void:\n    if not balls_container:\n        return\n    \n    # Check ball limit\n    if balls_container.get_child_count() \u003e= max_balls:\n        # Despawn oldest ball\n        var oldest = balls_container.get_child(0)\n        oldest.despawn()\n    \n    # Spawn new ball(s)\n    for i in range(ball_count):\n        _spawn_ball(aim_direction)\n```\n\n### Alternative: Object Pooling\nFor better performance, reuse ball instances:\n\n```gdscript\nvar ball_pool: Array[CharacterBody2D] = []\n\nfunc _ready():\n    # Pre-create pool\n    for i in range(max_balls):\n        var ball = ball_scene.instantiate()\n        ball.visible = false\n        ball.set_process(false)\n        balls_container.add_child(ball)\n        ball_pool.append(ball)\n\nfunc _get_pooled_ball() -\u003e CharacterBody2D:\n    for ball in ball_pool:\n        if not ball.visible:\n            return ball\n    \n    # Pool exhausted - despawn oldest active\n    for ball in ball_pool:\n        if ball.visible:\n            ball.despawn()\n            return ball\n    \n    return null\n\nfunc fire():\n    var ball = _get_pooled_ball()\n    if ball:\n        ball.position = global_position + aim_direction * 30\n        ball.set_direction(aim_direction)\n        ball.visible = true\n        ball.set_process(true)\n```\n\n### Ball Despawn Cleanup\n**Modify: `scripts/entities/ball.gd`**\n\n```gdscript\nfunc despawn() -\u003e void:\n    despawned.emit()\n    \n    # For pooling: reset state instead of queue_free\n    if is_pooled:\n        visible = false\n        set_process(false)\n        velocity = Vector2.ZERO\n    else:\n        queue_free()\n```\n\n### Files to Modify\n1. MODIFY: `scripts/entities/ball_spawner.gd` - add ball limit\n2. MODIFY: `scripts/entities/ball.gd` - support pooling (optional)","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-05T02:13:41.289161-06:00","created_by":"randroid","updated_at":"2026-01-05T02:13:41.289161-06:00"}
{"id":"GoPit-4ap","title":"Add AimLine trajectory preview (Line2D)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:20.658283-06:00","created_by":"randroid","updated_at":"2026-01-04T23:53:52.020352-06:00","closed_at":"2026-01-04T23:53:52.020352-06:00","close_reason":"Closed"}
{"id":"GoPit-4le","title":"Epic 5: Player Damage \u0026 Game Over","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T23:14:01.523056-06:00","created_by":"randroid","updated_at":"2026-01-05T01:15:24.175613-06:00","closed_at":"2026-01-05T01:15:24.175613-06:00","close_reason":"All sub-tasks completed","dependencies":[{"issue_id":"GoPit-4le","depends_on_id":"GoPit-e50","type":"blocks","created_at":"2026-01-04T23:17:26.38931-06:00","created_by":"randroid"},{"issue_id":"GoPit-4le","depends_on_id":"GoPit-4qt","type":"blocks","created_at":"2026-01-04T23:17:26.451116-06:00","created_by":"randroid"},{"issue_id":"GoPit-4le","depends_on_id":"GoPit-8h3","type":"blocks","created_at":"2026-01-04T23:17:26.511862-06:00","created_by":"randroid"},{"issue_id":"GoPit-4le","depends_on_id":"GoPit-xb8","type":"blocks","created_at":"2026-01-04T23:17:26.573843-06:00","created_by":"randroid"},{"issue_id":"GoPit-4le","depends_on_id":"GoPit-3ak","type":"blocks","created_at":"2026-01-04T23:17:26.635526-06:00","created_by":"randroid"},{"issue_id":"GoPit-4le","depends_on_id":"GoPit-s0e","type":"blocks","created_at":"2026-01-04T23:17:45.347522-06:00","created_by":"randroid"}]}
{"id":"GoPit-4mj","title":"Verify full restart resets all state","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T23:16:29.484503-06:00","created_by":"randroid","updated_at":"2026-01-05T00:01:32.999004-06:00","closed_at":"2026-01-05T00:01:32.999004-06:00","close_reason":"Closed"}
{"id":"GoPit-4qt","title":"Detect enemy entering zone, call GameManager.take_damage()","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:16:00.075202-06:00","created_by":"randroid","updated_at":"2026-01-04T23:58:36.243542-06:00","closed_at":"2026-01-04T23:58:36.243542-06:00","close_reason":"Closed"}
{"id":"GoPit-5kj","title":"Add off-screen ball cleanup (despawn at top/bottom)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:32.199707-06:00","created_by":"randroid","updated_at":"2026-01-04T23:53:52.027094-06:00","closed_at":"2026-01-04T23:53:52.027094-06:00","close_reason":"Closed"}
{"id":"GoPit-64u","title":"Add audio settings with volume controls","description":"## Problem\nPlayers cannot mute or adjust volume. Critical for mobile (public places, night time).\n\n## Implementation Plan\n\n### Phase 1: Settings Data\n**Modify: `scripts/autoload/sound_manager.gd`**\n\n```gdscript\nvar master_volume: float = 1.0\nvar sfx_volume: float = 1.0\nvar music_volume: float = 1.0\nvar is_muted: bool = false\n\nfunc set_master_volume(value: float):\n    master_volume = clamp(value, 0.0, 1.0)\n    AudioServer.set_bus_volume_db(0, linear_to_db(master_volume))\n    _save_settings()\n\nfunc set_sfx_volume(value: float):\n    sfx_volume = clamp(value, 0.0, 1.0)\n    var bus_idx = AudioServer.get_bus_index(\"SFX\")\n    AudioServer.set_bus_volume_db(bus_idx, linear_to_db(sfx_volume))\n    _save_settings()\n\nfunc toggle_mute():\n    is_muted = !is_muted\n    AudioServer.set_bus_mute(0, is_muted)\n    _save_settings()\n\nfunc _save_settings():\n    var data = {\n        \"master\": master_volume,\n        \"sfx\": sfx_volume,\n        \"music\": music_volume,\n        \"muted\": is_muted\n    }\n    var file = FileAccess.open(\"user://audio_settings.save\", FileAccess.WRITE)\n    file.store_string(JSON.stringify(data))\n\nfunc _load_settings():\n    if FileAccess.file_exists(\"user://audio_settings.save\"):\n        # Load and apply settings\n        pass\n```\n\n### Phase 2: Settings UI\n**File: `scenes/ui/settings_overlay.tscn`** (new)\n\n```\nSettingsOverlay (CanvasLayer)\n‚îî‚îÄ‚îÄ Panel\n    ‚îî‚îÄ‚îÄ VBoxContainer\n        ‚îú‚îÄ‚îÄ TitleLabel (\"Settings\")\n        ‚îú‚îÄ‚îÄ MasterVolumeSlider + Label\n        ‚îú‚îÄ‚îÄ SFXVolumeSlider + Label\n        ‚îú‚îÄ‚îÄ MusicVolumeSlider + Label\n        ‚îú‚îÄ‚îÄ MuteToggle (CheckButton)\n        ‚îî‚îÄ‚îÄ CloseButton\n```\n\n### Phase 3: Quick Mute Button on HUD\n**Modify: `scenes/game.tscn`**\n\nAdd small speaker icon in top-right corner that toggles mute on tap.\n\n### Files to Create/Modify\n1. MODIFY: `scripts/autoload/sound_manager.gd` - volume controls\n2. NEW: `scenes/ui/settings_overlay.tscn`\n3. NEW: `scripts/ui/settings_overlay.gd`\n4. MODIFY: `scenes/game.tscn` - add mute button to HUD\n5. MODIFY: `scripts/ui/hud.gd` - handle mute button\n\n### Audio Bus Setup (prerequisite)\nRequires audio buses: Master, SFX, Music","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-05T02:02:57.527844-06:00","created_by":"randroid","updated_at":"2026-01-05T02:02:57.527844-06:00","dependencies":[{"issue_id":"GoPit-64u","depends_on_id":"GoPit-0x8","type":"blocks","created_at":"2026-01-05T02:15:49.922158-06:00","created_by":"randroid"}]}
{"id":"GoPit-6he","title":"Create GameManager autoload with state machine","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:10.346933-06:00","created_by":"randroid","updated_at":"2026-01-04T23:36:51.594247-06:00","closed_at":"2026-01-04T23:36:51.594247-06:00","close_reason":"Closed"}
{"id":"GoPit-6s6","title":"Create ball.tscn (CharacterBody2D, procedural circle)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:31.159482-06:00","created_by":"randroid","updated_at":"2026-01-04T23:53:52.022861-06:00","closed_at":"2026-01-04T23:53:52.022861-06:00","close_reason":"Closed"}
{"id":"GoPit-6wl","title":"Create VirtualJoystick scene (drag to aim, mouse support)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:20.15116-06:00","created_by":"randroid","updated_at":"2026-01-04T23:53:52.018187-06:00","closed_at":"2026-01-04T23:53:52.018187-06:00","close_reason":"Closed"}
{"id":"GoPit-6z8","title":"Add fire button blocked feedback","description":"## Problem\nTapping fire button during cooldown is silently ignored. No feedback that press was registered.\n\n## Implementation Plan\n\n### Add Blocked State Feedback\n**Modify: `scripts/input/fire_button.gd`**\n\n```gdscript\nsignal blocked  # New signal for blocked attempts\n\nvar shake_tween: Tween\n\nfunc _gui_input(event: InputEvent) -\u003e void:\n    if event is InputEventScreenTouch or event is InputEventMouseButton:\n        if event.pressed:\n            if can_fire:\n                _fire()\n            else:\n                _on_blocked()\n\nfunc _on_blocked():\n    blocked.emit()\n    _shake_button()\n    _flash_red()\n    SoundManager.play_blocked()  # Optional subtle click\n\nfunc _shake_button():\n    if shake_tween:\n        shake_tween.kill()\n    \n    var original_pos = position\n    shake_tween = create_tween()\n    shake_tween.tween_property(self, \"position:x\", original_pos.x + 5, 0.05)\n    shake_tween.tween_property(self, \"position:x\", original_pos.x - 5, 0.05)\n    shake_tween.tween_property(self, \"position:x\", original_pos.x + 3, 0.05)\n    shake_tween.tween_property(self, \"position:x\", original_pos.x, 0.05)\n\nfunc _flash_red():\n    var original_color = modulate\n    modulate = Color(1.5, 0.5, 0.5)\n    await get_tree().create_timer(0.1).timeout\n    modulate = original_color\n```\n\n### Optional: Haptic Feedback (Mobile)\n```gdscript\nfunc _on_blocked():\n    # Haptic feedback on supported devices\n    if OS.has_feature(\"mobile\"):\n        Input.vibrate_handheld(50)  # 50ms vibration\n```\n\n### Sound Effect (Optional)\n**Modify: `scripts/autoload/sound_manager.gd`**\n\n```gdscript\nenum SoundType { ..., BLOCKED }\n\nfunc _generate_blocked() -\u003e AudioStreamWAV:\n    # Short, low, muted click\n    # Duration: 0.05s\n    # Frequency: 100Hz\n    # Very quiet\n```\n\n### Files to Modify\n1. MODIFY: `scripts/input/fire_button.gd` - add blocked feedback\n2. MODIFY: `scripts/autoload/sound_manager.gd` - add blocked sound (optional)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T02:13:40.260334-06:00","created_by":"randroid","updated_at":"2026-01-05T02:13:40.260334-06:00"}
{"id":"GoPit-7of","title":"Connect ball collision to enemy damage","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:46.425583-06:00","created_by":"randroid","updated_at":"2026-01-04T23:58:36.24122-06:00","closed_at":"2026-01-04T23:58:36.24122-06:00","close_reason":"Closed"}
{"id":"GoPit-7vn","title":"Implement ball.gd movement and wall bounce logic","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:31.41858-06:00","created_by":"randroid","updated_at":"2026-01-04T23:53:52.023984-06:00","closed_at":"2026-01-04T23:53:52.023984-06:00","close_reason":"Closed"}
{"id":"GoPit-84z","title":"Create FireButton scene with cooldown timer","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:20.402744-06:00","created_by":"randroid","updated_at":"2026-01-04T23:53:52.019303-06:00","closed_at":"2026-01-04T23:53:52.019303-06:00","close_reason":"Closed"}
{"id":"GoPit-8h3","title":"Create HUD (HP bar, wave counter)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:16:00.335073-06:00","created_by":"randroid","updated_at":"2026-01-04T23:58:36.24454-06:00","closed_at":"2026-01-04T23:58:36.24454-06:00","close_reason":"Closed"}
{"id":"GoPit-8hv","title":"Epic 3: Ball System","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T23:13:55.403382-06:00","created_by":"randroid","updated_at":"2026-01-05T00:06:20.832297-06:00","closed_at":"2026-01-05T00:06:20.832297-06:00","close_reason":"Closed","dependencies":[{"issue_id":"GoPit-8hv","depends_on_id":"GoPit-6s6","type":"blocks","created_at":"2026-01-04T23:17:25.396882-06:00","created_by":"randroid"},{"issue_id":"GoPit-8hv","depends_on_id":"GoPit-7vn","type":"blocks","created_at":"2026-01-04T23:17:25.459075-06:00","created_by":"randroid"},{"issue_id":"GoPit-8hv","depends_on_id":"GoPit-9rd","type":"blocks","created_at":"2026-01-04T23:17:25.521201-06:00","created_by":"randroid"},{"issue_id":"GoPit-8hv","depends_on_id":"GoPit-sm9","type":"blocks","created_at":"2026-01-04T23:17:25.583412-06:00","created_by":"randroid"},{"issue_id":"GoPit-8hv","depends_on_id":"GoPit-5kj","type":"blocks","created_at":"2026-01-04T23:17:25.643856-06:00","created_by":"randroid"},{"issue_id":"GoPit-8hv","depends_on_id":"GoPit-ya7","type":"blocks","created_at":"2026-01-04T23:17:44.881672-06:00","created_by":"randroid"}]}
{"id":"GoPit-9as","title":"Epic 6: XP \u0026 Level-Up","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T23:14:05.087568-06:00","created_by":"randroid","updated_at":"2026-01-05T01:15:24.177457-06:00","closed_at":"2026-01-05T01:15:24.177457-06:00","close_reason":"All sub-tasks completed","dependencies":[{"issue_id":"GoPit-9as","depends_on_id":"GoPit-ud8","type":"blocks","created_at":"2026-01-04T23:17:26.892644-06:00","created_by":"randroid"},{"issue_id":"GoPit-9as","depends_on_id":"GoPit-p89","type":"blocks","created_at":"2026-01-04T23:17:26.953981-06:00","created_by":"randroid"},{"issue_id":"GoPit-9as","depends_on_id":"GoPit-p5d","type":"blocks","created_at":"2026-01-04T23:17:27.015111-06:00","created_by":"randroid"},{"issue_id":"GoPit-9as","depends_on_id":"GoPit-07u","type":"blocks","created_at":"2026-01-04T23:17:27.078097-06:00","created_by":"randroid"},{"issue_id":"GoPit-9as","depends_on_id":"GoPit-1bl","type":"blocks","created_at":"2026-01-04T23:17:27.139886-06:00","created_by":"randroid"},{"issue_id":"GoPit-9as","depends_on_id":"GoPit-1lq","type":"blocks","created_at":"2026-01-04T23:17:27.20127-06:00","created_by":"randroid"},{"issue_id":"GoPit-9as","depends_on_id":"GoPit-s0e","type":"blocks","created_at":"2026-01-04T23:17:45.576485-06:00","created_by":"randroid"}]}
{"id":"GoPit-9gy","title":"Create game.tscn scaffold with background and containers","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:10.605165-06:00","created_by":"randroid","updated_at":"2026-01-04T23:40:12.025651-06:00","closed_at":"2026-01-04T23:40:12.025651-06:00","close_reason":"Closed"}
{"id":"GoPit-9oq","title":"Add ball type variants (Fire, Ice, Multi)","description":"## Problem\nOnly basic blue ball exists. No variety in gameplay.\n\n## Implementation Plan\n\n### Ball Type Enum\n**Modify: `scripts/entities/ball.gd`**\n\n```gdscript\nenum BallType { BASIC, FIRE, ICE, MULTI }\n\n@export var ball_type: BallType = BallType.BASIC\n\n# Type-specific properties\nvar burn_damage: int = 0\nvar slow_amount: float = 0.0\nvar split_on_hit: bool = false\n\nfunc _ready():\n    _apply_type_properties()\n    queue_redraw()\n\nfunc _apply_type_properties():\n    match ball_type:\n        BallType.BASIC:\n            ball_color = Color(0.3, 0.7, 1.0)  # Blue\n        BallType.FIRE:\n            ball_color = Color(1.0, 0.4, 0.1)  # Orange\n            burn_damage = 3  # DoT\n        BallType.ICE:\n            ball_color = Color(0.5, 0.9, 1.0)  # Cyan\n            slow_amount = 0.5  # 50% slow\n        BallType.MULTI:\n            ball_color = Color(1.0, 0.8, 0.2)  # Gold\n            split_on_hit = true\n\nfunc _on_hit_enemy(enemy, collision):\n    # Apply base damage\n    enemy.take_damage(damage)\n    \n    # Type-specific effects\n    match ball_type:\n        BallType.FIRE:\n            enemy.apply_burn(burn_damage, 3.0)  # 3 damage over 3 seconds\n        BallType.ICE:\n            enemy.apply_slow(slow_amount, 2.0)  # 50% slow for 2 seconds\n        BallType.MULTI:\n            if split_on_hit:\n                _split_ball(collision.get_normal())\n                split_on_hit = false  # Only split once\n\nfunc _split_ball(normal: Vector2):\n    # Spawn 2 additional balls at 45 degree angles\n    var spawner = get_tree().get_first_node_in_group(\"ball_spawner\")\n    if spawner:\n        var left_dir = direction.rotated(-PI/4)\n        var right_dir = direction.rotated(PI/4)\n        spawner._spawn_ball_at(global_position, left_dir, BallType.BASIC)\n        spawner._spawn_ball_at(global_position, right_dir, BallType.BASIC)\n```\n\n### Enemy Status Effects\n**Modify: `scripts/entities/enemies/enemy_base.gd`**\n\n```gdscript\nvar burn_timer: float = 0.0\nvar burn_dps: int = 0\nvar slow_timer: float = 0.0\nvar slow_amount: float = 0.0\nvar base_speed: float = 0.0\n\nfunc _ready():\n    base_speed = speed\n\nfunc apply_burn(dps: int, duration: float):\n    burn_dps = dps\n    burn_timer = duration\n    # Visual: add fire particles\n\nfunc apply_slow(amount: float, duration: float):\n    slow_amount = amount\n    slow_timer = duration\n    speed = base_speed * (1.0 - slow_amount)\n    modulate = Color(0.7, 0.9, 1.0)  # Icy tint\n\nfunc _process(delta):\n    # Burn damage\n    if burn_timer \u003e 0:\n        burn_timer -= delta\n        take_damage(int(burn_dps * delta))\n    \n    # Slow expiry\n    if slow_timer \u003e 0:\n        slow_timer -= delta\n        if slow_timer \u003c= 0:\n            speed = base_speed\n            modulate = Color.WHITE\n```\n\n### Ball Spawner Integration\n**Modify: `scripts/entities/ball_spawner.gd`**\n\n```gdscript\nvar current_ball_type: Ball.BallType = Ball.BallType.BASIC\n\nfunc set_ball_type(type: Ball.BallType):\n    current_ball_type = type\n\nfunc _spawn_ball(dir: Vector2):\n    var ball = ball_scene.instantiate()\n    ball.ball_type = current_ball_type\n    ball.damage = ball_damage\n    ball.position = global_position + dir * 30\n    ball.set_direction(dir)\n    balls_container.add_child(ball)\n```\n\n### Unlock System\nBall types can be unlocked via meta-progression (Pit Coins) or as rare level-up upgrades.\n\n### Files to Modify\n1. MODIFY: `scripts/entities/ball.gd` - ball types\n2. MODIFY: `scripts/entities/enemies/enemy_base.gd` - status effects\n3. MODIFY: `scripts/entities/ball_spawner.gd` - type selection\n4. MODIFY: `scripts/ui/level_up_overlay.gd` - ball type upgrades","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-05T02:15:32.979968-06:00","created_by":"randroid","updated_at":"2026-01-05T02:15:32.979968-06:00","dependencies":[{"issue_id":"GoPit-9oq","depends_on_id":"GoPit-28w","type":"blocks","created_at":"2026-01-05T02:15:50.101465-06:00","created_by":"randroid"}]}
{"id":"GoPit-9r3","title":"Add low HP screen warning effect","description":"## Problem\nHP bar is small and might be missed during action. No warning when HP is critically low.\n\n## Implementation Plan\n\n### Create Danger Vignette Effect\n**File: `scripts/effects/low_hp_warning.gd`** (new)\n\n```gdscript\nextends ColorRect\n## Persistent red vignette when HP is low\n\nconst LOW_HP_THRESHOLD: float = 0.25  # 25% HP\n\nvar pulse_tween: Tween\nvar is_warning: bool = false\n\nfunc _ready():\n    color = Color(0.8, 0, 0, 0)\n    mouse_filter = Control.MOUSE_FILTER_IGNORE\n    GameManager.state_changed.connect(_on_state_changed)\n\nfunc _process(_delta):\n    if GameManager.current_state != GameManager.GameState.PLAYING:\n        return\n    \n    var hp_ratio = float(GameManager.player_hp) / float(GameManager.max_hp)\n    \n    if hp_ratio \u003c= LOW_HP_THRESHOLD and not is_warning:\n        _start_warning()\n    elif hp_ratio \u003e LOW_HP_THRESHOLD and is_warning:\n        _stop_warning()\n\nfunc _start_warning():\n    is_warning = true\n    \n    if pulse_tween:\n        pulse_tween.kill()\n    \n    pulse_tween = create_tween().set_loops()\n    pulse_tween.tween_property(self, \"color:a\", 0.3, 0.5)\n    pulse_tween.tween_property(self, \"color:a\", 0.1, 0.5)\n    \n    # Optional: Add heartbeat sound\n    # SoundManager.start_heartbeat()\n\nfunc _stop_warning():\n    is_warning = false\n    \n    if pulse_tween:\n        pulse_tween.kill()\n    \n    var fade = create_tween()\n    fade.tween_property(self, \"color:a\", 0.0, 0.3)\n    \n    # SoundManager.stop_heartbeat()\n\nfunc _on_state_changed(_old, new):\n    if new != GameManager.GameState.PLAYING:\n        _stop_warning()\n```\n\n### Vignette Shader (Optional but nicer)\n**File: `shaders/vignette.gdshader`**\n\n```gdshader\nshader_type canvas_item;\n\nuniform vec4 color : source_color = vec4(0.8, 0.0, 0.0, 1.0);\nuniform float intensity : hint_range(0.0, 1.0) = 0.0;\nuniform float radius : hint_range(0.0, 1.0) = 0.5;\n\nvoid fragment() {\n    vec2 uv = UV - 0.5;\n    float dist = length(uv);\n    float vignette = smoothstep(radius, radius + 0.3, dist);\n    COLOR = vec4(color.rgb, vignette * intensity * color.a);\n}\n```\n\n### Add to Game Scene\n**Modify: `scenes/game.tscn`**\n\nAdd as child of UI CanvasLayer, covering full screen.\n\n### Optional: Heartbeat Sound\n**Modify: `scripts/autoload/sound_manager.gd`**\n\n```gdscript\nvar heartbeat_player: AudioStreamPlayer\nvar heartbeat_timer: float = 0.0\n\nfunc start_heartbeat():\n    heartbeat_active = true\n\nfunc stop_heartbeat():\n    heartbeat_active = false\n\nfunc _process(delta):\n    if heartbeat_active:\n        heartbeat_timer += delta\n        if heartbeat_timer \u003e= 0.8:  # Heartbeat rhythm\n            heartbeat_timer = 0\n            play(SoundType.HEARTBEAT)\n```\n\n### Files to Create/Modify\n1. NEW: `scripts/effects/low_hp_warning.gd`\n2. NEW: `shaders/vignette.gdshader` (optional)\n3. MODIFY: `scenes/game.tscn` - add warning overlay\n4. MODIFY: `scripts/autoload/sound_manager.gd` - heartbeat (optional)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T02:13:40.766327-06:00","created_by":"randroid","updated_at":"2026-01-05T02:13:40.766327-06:00"}
{"id":"GoPit-9rd","title":"Create BallSpawner to fire balls in aimed direction","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:31.681186-06:00","created_by":"randroid","updated_at":"2026-01-04T23:53:52.02514-06:00","closed_at":"2026-01-04T23:53:52.02514-06:00","close_reason":"Closed"}
{"id":"GoPit-9vr","title":"Add placeholder sounds (optional)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-04T23:16:29.752837-06:00","created_by":"randroid","updated_at":"2026-01-05T01:19:15.198938-06:00","closed_at":"2026-01-05T01:19:15.198938-06:00","close_reason":"Added procedural placeholder sounds for all game events"}
{"id":"GoPit-a0p","title":"Add special ability (Ultimate)","description":"## Problem\nNo power moment. Just steady fire. Players need satisfying payoff.\n\n## Implementation Plan\n\n### Ultimate Ability System\n**Modify: `scripts/autoload/game_manager.gd`**\n\n```gdscript\nsignal ultimate_ready\nsignal ultimate_used\nsignal ultimate_charge_changed(current: float, max: float)\n\nconst ULTIMATE_CHARGE_MAX: float = 100.0\nconst CHARGE_PER_KILL: float = 10.0\nconst CHARGE_PER_GEM: float = 5.0\n\nvar ultimate_charge: float = 0.0\n\nfunc add_ultimate_charge(amount: float):\n    var was_ready = ultimate_charge \u003e= ULTIMATE_CHARGE_MAX\n    ultimate_charge = min(ULTIMATE_CHARGE_MAX, ultimate_charge + amount)\n    ultimate_charge_changed.emit(ultimate_charge, ULTIMATE_CHARGE_MAX)\n    \n    if not was_ready and ultimate_charge \u003e= ULTIMATE_CHARGE_MAX:\n        ultimate_ready.emit()\n\nfunc use_ultimate() -\u003e bool:\n    if ultimate_charge \u003e= ULTIMATE_CHARGE_MAX:\n        ultimate_charge = 0\n        ultimate_used.emit()\n        ultimate_charge_changed.emit(0, ULTIMATE_CHARGE_MAX)\n        return true\n    return false\n```\n\n### Ultimate Types\n**File: `scripts/effects/ultimate_blast.gd`** (new)\n\n```gdscript\nextends Node2D\n## Screen-clearing blast ultimate\n\nfunc execute():\n    # Visual effect\n    var flash = ColorRect.new()\n    flash.color = Color(1, 1, 1, 0.8)\n    flash.size = get_viewport().size\n    get_tree().current_scene.add_child(flash)\n    \n    # Fade out flash\n    var tween = create_tween()\n    tween.tween_property(flash, \"color:a\", 0.0, 0.5)\n    tween.tween_callback(flash.queue_free)\n    \n    # Kill all enemies on screen\n    var enemies = get_tree().get_nodes_in_group(\"enemies\")\n    for enemy in enemies:\n        if enemy is EnemyBase:\n            enemy.take_damage(9999)\n    \n    # Screen shake\n    CameraShake.shake(20.0, 2.0)\n    \n    # Sound effect\n    SoundManager.play(SoundManager.SoundType.ULTIMATE)\n    \n    queue_free()\n```\n\n### Ultimate Button UI\n**Modify: `scenes/game.tscn`**\n\nAdd ultimate button next to fire button (or as overlay on fire button when ready).\n\n**File: `scripts/ui/ultimate_button.gd`** (new)\n\n```gdscript\nextends Control\n\n@onready var progress_bar: ProgressBar = $ProgressBar\n@onready var ready_indicator: Control = $ReadyIndicator\n\nvar pulse_tween: Tween\n\nfunc _ready():\n    ready_indicator.visible = false\n    GameManager.ultimate_charge_changed.connect(_on_charge_changed)\n    GameManager.ultimate_ready.connect(_on_ultimate_ready)\n\nfunc _on_charge_changed(current: float, max_charge: float):\n    progress_bar.value = current / max_charge * 100\n    \n    if current \u003c max_charge:\n        ready_indicator.visible = false\n        if pulse_tween:\n            pulse_tween.kill()\n\nfunc _on_ultimate_ready():\n    ready_indicator.visible = true\n    \n    # Pulsing glow effect\n    pulse_tween = create_tween().set_loops()\n    pulse_tween.tween_property(ready_indicator, \"modulate\", Color(1.5, 1.5, 0.5), 0.5)\n    pulse_tween.tween_property(ready_indicator, \"modulate\", Color(1.0, 1.0, 1.0), 0.5)\n\nfunc _gui_input(event):\n    if event is InputEventScreenTouch and event.pressed:\n        if GameManager.use_ultimate():\n            _execute_ultimate()\n\nfunc _execute_ultimate():\n    var blast = preload(\"res://scenes/effects/ultimate_blast.tscn\").instantiate()\n    get_tree().current_scene.add_child(blast)\n    blast.execute()\n```\n\n### Wire Up Charge Gain\n**Modify: `scripts/game/game_controller.gd`**\n\n```gdscript\nfunc _on_enemy_died(enemy: EnemyBase):\n    GameManager.add_ultimate_charge(GameManager.CHARGE_PER_KILL)\n    # existing code...\n\nfunc _on_gem_collected(gem):\n    GameManager.add_ultimate_charge(GameManager.CHARGE_PER_GEM)\n    # existing code...\n```\n\n### Files to Create/Modify\n1. MODIFY: `scripts/autoload/game_manager.gd` - ultimate charge system\n2. NEW: `scenes/effects/ultimate_blast.tscn`\n3. NEW: `scripts/effects/ultimate_blast.gd`\n4. NEW: `scenes/ui/ultimate_button.tscn`\n5. NEW: `scripts/ui/ultimate_button.gd`\n6. MODIFY: `scenes/game.tscn` - add ultimate button\n7. MODIFY: `scripts/game/game_controller.gd` - wire charge gain\n8. MODIFY: `scripts/autoload/sound_manager.gd` - add ULTIMATE sound","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-05T02:15:33.520331-06:00","created_by":"randroid","updated_at":"2026-01-05T02:15:33.520331-06:00"}
{"id":"GoPit-a8z","title":"Scale enemy HP/speed with wave number","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T23:16:28.961304-06:00","created_by":"randroid","updated_at":"2026-01-05T00:01:32.996586-06:00","closed_at":"2026-01-05T00:01:32.996586-06:00","close_reason":"Closed"}
{"id":"GoPit-ape","title":"Add randomness to enemy spawn intervals","description":"## Problem\nEnemies spawn at fixed intervals. Creates mechanical, predictable rhythm.\n\n## Implementation Plan\n\n### Add Variance to Spawn Timer\n**Modify: `scripts/entities/enemies/enemy_spawner.gd`**\n\n```gdscript\n@export var spawn_variance: float = 0.5  # ¬±0.5 seconds\n\nfunc _start_spawn_timer() -\u003e void:\n    var variance = randf_range(-spawn_variance, spawn_variance)\n    var next_spawn = max(0.3, spawn_interval + variance)  # Min 0.3s\n    spawn_timer.wait_time = next_spawn\n    spawn_timer.start()\n\nfunc _on_spawn_timer_timeout() -\u003e void:\n    _spawn_enemy()\n    _start_spawn_timer()  # Restart with new random interval\n```\n\n### Optional: Burst Spawning\nOccasionally spawn multiple enemies at once:\n\n```gdscript\n@export var burst_chance: float = 0.1  # 10% chance\n@export var burst_count_range: Vector2i = Vector2i(2, 3)\n\nfunc _spawn_enemy() -\u003e void:\n    var count = 1\n    if randf() \u003c burst_chance:\n        count = randi_range(burst_count_range.x, burst_count_range.y)\n        # Brief delay between burst spawns\n        for i in range(count):\n            _do_spawn()\n            if i \u003c count - 1:\n                await get_tree().create_timer(0.2).timeout\n    else:\n        _do_spawn()\n\nfunc _do_spawn() -\u003e void:\n    var enemy = slime_scene.instantiate()\n    # ... existing spawn logic\n```\n\n### Wave Scaling\nIncrease variance and burst chance with waves:\n\n```gdscript\nfunc set_spawn_interval(interval: float) -\u003e void:\n    spawn_interval = interval\n    # Increase burst chance as game speeds up\n    burst_chance = min(0.3, 0.1 + (2.0 - interval) * 0.1)\n```\n\n### Files to Modify\n1. MODIFY: `scripts/entities/enemies/enemy_spawner.gd` - add variance and bursts","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T02:12:31.429763-06:00","created_by":"randroid","updated_at":"2026-01-05T02:12:31.429763-06:00"}
{"id":"GoPit-bhu","title":"Add combo system with XP multiplier","description":"## Problem\nNo reward for rapid kills. Skill expression is limited.\n\n## Implementation Plan\n\n### Combo Tracking in GameManager\n**Modify: `scripts/autoload/game_manager.gd`**\n\n```gdscript\nsignal combo_changed(combo: int, multiplier: float)\n\nconst COMBO_TIMEOUT: float = 2.0\nconst COMBO_MULTIPLIERS := {\n    0: 1.0,\n    3: 1.25,\n    5: 1.5,\n    10: 2.0,\n    20: 3.0\n}\n\nvar current_combo: int = 0\nvar combo_timer: float = 0.0\nvar combo_multiplier: float = 1.0\n\nfunc _process(delta):\n    if current_state == GameState.PLAYING and combo_timer \u003e 0:\n        combo_timer -= delta\n        if combo_timer \u003c= 0:\n            _reset_combo()\n\nfunc add_combo():\n    current_combo += 1\n    combo_timer = COMBO_TIMEOUT\n    \n    # Calculate multiplier\n    for threshold in COMBO_MULTIPLIERS:\n        if current_combo \u003e= threshold:\n            combo_multiplier = COMBO_MULTIPLIERS[threshold]\n    \n    combo_changed.emit(current_combo, combo_multiplier)\n\nfunc _reset_combo():\n    if current_combo \u003e stats.highest_combo:\n        stats.highest_combo = current_combo\n    current_combo = 0\n    combo_multiplier = 1.0\n    combo_changed.emit(0, 1.0)\n\nfunc add_xp(amount: int) -\u003e void:\n    var modified_xp = int(amount * combo_multiplier)\n    current_xp += modified_xp\n    # ...\n```\n\n### Combo UI Display\n**File: `scripts/ui/combo_display.gd`** (new)\n\n```gdscript\nextends Control\n\n@onready var combo_label: Label = $ComboLabel\n@onready var multiplier_label: Label = $MultiplierLabel\n\nvar display_tween: Tween\n\nfunc _ready():\n    visible = false\n    GameManager.combo_changed.connect(_on_combo_changed)\n\nfunc _on_combo_changed(combo: int, multiplier: float):\n    if combo == 0:\n        _hide_display()\n        return\n    \n    visible = true\n    combo_label.text = \"%d\" % combo\n    multiplier_label.text = \"x%.1f\" % multiplier if multiplier \u003e 1.0 else \"\"\n    \n    # Pop animation\n    if display_tween:\n        display_tween.kill()\n    \n    scale = Vector2(1.3, 1.3)\n    display_tween = create_tween()\n    display_tween.tween_property(self, \"scale\", Vector2(1.0, 1.0), 0.15).set_ease(Tween.EASE_OUT)\n\nfunc _hide_display():\n    var tween = create_tween()\n    tween.tween_property(self, \"modulate:a\", 0.0, 0.3)\n    tween.tween_callback(func(): visible = false; modulate.a = 1.0)\n```\n\n### Wire Up Combo Increments\n**Modify: `scripts/game/game_controller.gd`**\n\n```gdscript\nfunc _on_enemy_died(enemy: EnemyBase) -\u003e void:\n    GameManager.add_combo()\n    # existing code...\n```\n\n### Visual Design\n- Large combo number in center-right of screen\n- Multiplier text below (only shown when \u003e 1x)\n- Color changes: white (1-4), yellow (5-9), orange (10-19), red (20+)\n- Shake effect when combo increases\n\n### Files to Create/Modify\n1. MODIFY: `scripts/autoload/game_manager.gd` - combo tracking\n2. NEW: `scenes/ui/combo_display.tscn`\n3. NEW: `scripts/ui/combo_display.gd`\n4. MODIFY: `scenes/game.tscn` - add combo display\n5. MODIFY: `scripts/game/game_controller.gd` - trigger combo","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-05T02:15:32.464892-06:00","created_by":"randroid","updated_at":"2026-01-05T02:15:32.464892-06:00","dependencies":[{"issue_id":"GoPit-bhu","depends_on_id":"GoPit-33z","type":"blocks","created_at":"2026-01-05T02:15:50.316233-06:00","created_by":"randroid"}]}
{"id":"GoPit-blo","title":"Add pitch variation to sound effects","description":"## Problem\nSame procedural sounds repeat constantly. Gets annoying with high fire rate.\n\n## Implementation Plan\n\n### Add Pitch Variation to Play Function\n**Modify: `scripts/autoload/sound_manager.gd`**\n\n```gdscript\n@export var pitch_variance: float = 0.1  # ¬±10% pitch variation\n\nfunc play(sound_type: SoundType) -\u003e void:\n    var player := _get_available_player()\n    if not player:\n        return\n    \n    # Generate the sound\n    player.stream = _generate_sound(sound_type)\n    \n    # Apply random pitch variation\n    player.pitch_scale = randf_range(1.0 - pitch_variance, 1.0 + pitch_variance)\n    \n    player.play()\n```\n\n### Per-Sound Variance Settings\nDifferent sounds benefit from different variance amounts:\n\n```gdscript\nconst SOUND_SETTINGS := {\n    SoundType.FIRE: {\"pitch_variance\": 0.15, \"volume_variance\": 0.1},\n    SoundType.HIT_WALL: {\"pitch_variance\": 0.2, \"volume_variance\": 0.15},\n    SoundType.HIT_ENEMY: {\"pitch_variance\": 0.1, \"volume_variance\": 0.1},\n    SoundType.ENEMY_DEATH: {\"pitch_variance\": 0.05, \"volume_variance\": 0.05},\n    SoundType.GEM_COLLECT: {\"pitch_variance\": 0.2, \"volume_variance\": 0.1},\n    SoundType.PLAYER_DAMAGE: {\"pitch_variance\": 0.05, \"volume_variance\": 0.0},  # Consistent for recognition\n    SoundType.LEVEL_UP: {\"pitch_variance\": 0.0, \"volume_variance\": 0.0},  # Always same\n    SoundType.GAME_OVER: {\"pitch_variance\": 0.0, \"volume_variance\": 0.0}\n}\n\nfunc play(sound_type: SoundType) -\u003e void:\n    var settings = SOUND_SETTINGS.get(sound_type, {})\n    var pitch_var = settings.get(\"pitch_variance\", 0.1)\n    var vol_var = settings.get(\"volume_variance\", 0.1)\n    \n    player.pitch_scale = randf_range(1.0 - pitch_var, 1.0 + pitch_var)\n    player.volume_db = randf_range(-vol_var * 6, vol_var * 6)  # ¬±0.6dB at 0.1 variance\n```\n\n### Alternative: Multiple Sound Variants\nPre-generate 3 variants of each sound at startup:\n\n```gdscript\nvar sound_variants: Dictionary = {}  # SoundType -\u003e Array[AudioStreamWAV]\n\nfunc _ready():\n    for sound_type in SoundType.values():\n        sound_variants[sound_type] = []\n        for i in range(3):\n            sound_variants[sound_type].append(_generate_sound(sound_type))\n\nfunc play(sound_type: SoundType) -\u003e void:\n    var variants = sound_variants[sound_type]\n    var stream = variants[randi() % variants.size()]\n    # ...\n```\n\n### Files to Modify\n1. MODIFY: `scripts/autoload/sound_manager.gd` - add pitch/volume variance","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T02:12:31.707031-06:00","created_by":"randroid","updated_at":"2026-01-05T02:12:31.707031-06:00"}
{"id":"GoPit-blx","title":"Add gem magnetism toward player zone","description":"## Problem\nGems fall straight down at fixed speed. No attraction. Players passively wait for collection.\n\n## Implementation Plan\n\n### Add Magnetism to Gem Entity\n**Modify: `scripts/entities/gem.gd`**\n\n```gdscript\n@export var magnetism_range: float = 300.0\n@export var magnetism_strength: float = 2.0\n@export var max_speed: float = 500.0\n\nconst PLAYER_ZONE_Y: float = 1200.0\n\nfunc _physics_process(delta: float) -\u003e void:\n    var distance_to_zone = PLAYER_ZONE_Y - global_position.y\n    \n    if distance_to_zone \u003c magnetism_range and distance_to_zone \u003e 0:\n        # Calculate pull strength (stronger when closer)\n        var pull_factor = 1.0 - (distance_to_zone / magnetism_range)\n        pull_factor = pow(pull_factor, 0.5)  # Ease curve\n        \n        # Accelerate toward zone\n        var target_speed = lerp(fall_speed, max_speed, pull_factor)\n        fall_speed = move_toward(fall_speed, target_speed, magnetism_strength * 100 * delta)\n        \n        # Also pull horizontally toward center\n        var center_x = 360.0  # Screen center\n        var horizontal_pull = (center_x - global_position.x) * pull_factor * 0.5\n        global_position.x += horizontal_pull * delta\n    \n    # Continue normal fall\n    global_position.y += fall_speed * delta\n```\n\n### Visual Feedback\nWhen magnetism kicks in:\n- Add subtle sparkle trail\n- Increase gem brightness slightly\n\n```gdscript\nfunc _draw():\n    # Base gem draw...\n    \n    if fall_speed \u003e base_fall_speed * 1.5:\n        # Draw speed lines or trail\n        draw_line(Vector2.ZERO, Vector2(0, -10), Color.WHITE.with_alpha(0.3), 2)\n```\n\n### Optional: Upgrade Integration\nIf magnetism is an upgrade (from GoPit-28w), make range configurable:\n\n```gdscript\nstatic var global_magnetism_bonus: float = 0.0\n\nvar effective_range: float:\n    get:\n        return magnetism_range + global_magnetism_bonus * 100  # +100px per upgrade level\n```\n\n### Files to Modify\n1. MODIFY: `scripts/entities/gem.gd` - add magnetism physics","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T02:12:31.173714-06:00","created_by":"randroid","updated_at":"2026-01-05T02:12:31.173714-06:00"}
{"id":"GoPit-bs4","title":"Add screen shake and damage feedback","description":"## Problem\nWhen balls hit enemies and when player takes damage, feedback is minimal. Hits don't feel impactful.\n\n## Implementation Plan\n\n### Phase 1: Screen Shake System\n**File: `scripts/effects/camera_shake.gd`** (new)\n\n```gdscript\nextends Camera2D\n\nvar shake_intensity: float = 0.0\nvar shake_decay: float = 5.0\n\nfunc _process(delta):\n    if shake_intensity \u003e 0:\n        offset = Vector2(\n            randf_range(-shake_intensity, shake_intensity),\n            randf_range(-shake_intensity, shake_intensity)\n        )\n        shake_intensity = lerp(shake_intensity, 0.0, shake_decay * delta)\n    else:\n        offset = Vector2.ZERO\n\nfunc shake(intensity: float = 10.0, decay: float = 5.0):\n    shake_intensity = max(shake_intensity, intensity)\n    shake_decay = decay\n```\n\n### Phase 2: Damage Vignette Effect\n**File: `scripts/effects/damage_vignette.gd`** (new)\n\n```gdscript\nextends ColorRect\n\nvar flash_duration: float = 0.15\nvar flash_timer: float = 0.0\n\nfunc _ready():\n    color = Color(1, 0, 0, 0)  # Transparent red\n    mouse_filter = Control.MOUSE_FILTER_IGNORE\n\nfunc flash():\n    flash_timer = flash_duration\n    \nfunc _process(delta):\n    if flash_timer \u003e 0:\n        flash_timer -= delta\n        color.a = (flash_timer / flash_duration) * 0.4\n    else:\n        color.a = 0\n```\n\n### Phase 3: Hit Particles\n**File: `scenes/effects/hit_particles.tscn`** (new)\n\nUse GPUParticles2D with:\n- Burst emission (8-12 particles)\n- Spread angle: 180 degrees (radial)\n- Initial velocity: 100-200\n- Gravity: 0\n- Lifetime: 0.3s\n- Color: Enemy color with fade out\n\n### Phase 4: Floating Damage Numbers\n**File: `scripts/effects/damage_number.gd`** (new)\n\n```gdscript\nextends Label\n\nfunc _ready():\n    var tween = create_tween()\n    tween.tween_property(self, \"position:y\", position.y - 50, 0.5)\n    tween.parallel().tween_property(self, \"modulate:a\", 0.0, 0.5)\n    tween.tween_callback(queue_free)\n\nstatic func spawn(parent: Node, pos: Vector2, damage: int):\n    var label = preload(\"res://scenes/effects/damage_number.tscn\").instantiate()\n    label.text = str(damage)\n    label.position = pos\n    parent.add_child(label)\n```\n\n### Phase 5: Wire Up Effects\n**Modify: `scripts/entities/enemies/enemy_base.gd`**\n\n```gdscript\nfunc take_damage(amount: int) -\u003e void:\n    hp -= amount\n    \n    # Screen shake (small)\n    CameraShake.shake(3.0)\n    \n    # Spawn hit particles\n    var particles = preload(\"hit_particles.tscn\").instantiate()\n    particles.position = global_position\n    get_tree().current_scene.add_child(particles)\n    \n    # Floating damage number\n    DamageNumber.spawn(get_tree().current_scene, global_position, amount)\n    \n    # Existing flash effect...\n```\n\n**Modify: `scripts/autoload/game_manager.gd`**\n\n```gdscript\nsignal player_damaged(amount: int)\n\nfunc take_damage(amount: int) -\u003e void:\n    player_hp = max(0, player_hp - amount)\n    player_damaged.emit(amount)\n    \n    # Trigger big screen shake\n    CameraShake.shake(15.0, 3.0)\n```\n\n### Files to Create/Modify\n1. NEW: `scripts/effects/camera_shake.gd` (autoload or attached to Camera2D)\n2. NEW: `scripts/effects/damage_vignette.gd`\n3. NEW: `scenes/effects/hit_particles.tscn`\n4. NEW: `scenes/effects/damage_number.tscn`\n5. NEW: `scripts/effects/damage_number.gd`\n6. MODIFY: `scenes/game.tscn` - add Camera2D with shake, vignette ColorRect\n7. MODIFY: `scripts/entities/enemies/enemy_base.gd` - trigger effects\n8. MODIFY: `scripts/autoload/game_manager.gd` - emit player_damaged signal\n\n### Testing\n- Verify screen shake on enemy hit (small) and player damage (large)\n- Verify vignette flash on player damage\n- Verify particles spawn at hit location\n- Verify damage numbers float up and fade","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-05T01:48:08.29361-06:00","created_by":"randroid","updated_at":"2026-01-05T02:28:42.963706-06:00","closed_at":"2026-01-05T02:28:42.963706-06:00","close_reason":"Implemented screen shake, damage vignette, hit particles, and floating damage numbers"}
{"id":"GoPit-bxg","title":"Add additional enemy types (Bat, Crab)","description":"## Problem\nOnly slimes exist. Gameplay becomes repetitive.\n\n## Implementation Plan\n\n### Enemy Type: Bat\n**File: `scripts/entities/enemies/bat.gd`** (new)\n\n```gdscript\nextends EnemyBase\n## Bat enemy - zigzags horizontally while descending\n\n@export var zigzag_frequency: float = 2.0  # oscillations per second\n@export var zigzag_amplitude: float = 100.0  # pixels left/right\n\nvar time_alive: float = 0.0\nvar start_x: float = 0.0\n\nfunc _ready():\n    super._ready()\n    start_x = global_position.x\n    max_hp = 8  # Slightly weaker\n    speed = 150  # Faster descent\n    xp_value = 12\n\nfunc _physics_process(delta):\n    time_alive += delta\n    \n    # Zigzag motion\n    var offset = sin(time_alive * zigzag_frequency * TAU) * zigzag_amplitude\n    global_position.x = start_x + offset\n    \n    # Descend\n    velocity = Vector2(0, speed)\n    move_and_slide()\n\nfunc _draw():\n    # Purple bat shape\n    draw_circle(Vector2.ZERO, 10, Color(0.6, 0.3, 0.8))\n    # Wings\n    draw_polygon([Vector2(-20, 0), Vector2(-10, -8), Vector2(-5, 0)], [Color(0.5, 0.2, 0.7)])\n    draw_polygon([Vector2(20, 0), Vector2(10, -8), Vector2(5, 0)], [Color(0.5, 0.2, 0.7)])\n```\n\n### Enemy Type: Crab\n**File: `scripts/entities/enemies/crab.gd`** (new)\n\n```gdscript\nextends EnemyBase\n## Crab enemy - moves side to side, tanky\n\n@export var horizontal_speed: float = 80.0\n@export var pause_duration: float = 0.5\n\nvar horizontal_direction: int = 1\nvar pause_timer: float = 0.0\nconst MARGIN: float = 60.0\n\nfunc _ready():\n    super._ready()\n    max_hp = 25  # Tanky\n    hp = max_hp\n    speed = 50  # Slow descent\n    xp_value = 20\n    horizontal_direction = 1 if randf() \u003e 0.5 else -1\n\nfunc _physics_process(delta):\n    if pause_timer \u003e 0:\n        pause_timer -= delta\n        return\n    \n    # Horizontal movement\n    global_position.x += horizontal_direction * horizontal_speed * delta\n    \n    # Bounce off edges\n    if global_position.x \u003c MARGIN:\n        horizontal_direction = 1\n        pause_timer = pause_duration\n    elif global_position.x \u003e 720 - MARGIN:\n        horizontal_direction = -1\n        pause_timer = pause_duration\n    \n    # Slow descent\n    velocity = Vector2(0, speed)\n    move_and_slide()\n\nfunc _draw():\n    # Orange crab shape\n    draw_circle(Vector2.ZERO, 15, Color(0.9, 0.4, 0.2))\n    # Claws\n    draw_circle(Vector2(-18, 0), 6, Color(0.8, 0.3, 0.1))\n    draw_circle(Vector2(18, 0), 6, Color(0.8, 0.3, 0.1))\n```\n\n### Spawner Integration\n**Modify: `scripts/entities/enemies/enemy_spawner.gd`**\n\n```gdscript\nvar bat_scene = preload(\"res://scenes/entities/enemies/bat.tscn\")\nvar crab_scene = preload(\"res://scenes/entities/enemies/crab.tscn\")\n\nconst ENEMY_WEIGHTS := {\n    \"slime\": 60,  # 60% chance\n    \"bat\": 25,    # 25% chance\n    \"crab\": 15    # 15% chance\n}\n\nfunc _spawn_enemy():\n    var enemy_type = _weighted_random_enemy()\n    var enemy: EnemyBase\n    \n    match enemy_type:\n        \"slime\":\n            enemy = slime_scene.instantiate()\n        \"bat\":\n            enemy = bat_scene.instantiate()\n        \"crab\":\n            enemy = crab_scene.instantiate()\n    \n    # Apply wave scaling and spawn...\n\nfunc _weighted_random_enemy() -\u003e String:\n    var total = 0\n    for weight in ENEMY_WEIGHTS.values():\n        total += weight\n    \n    var roll = randi() % total\n    var cumulative = 0\n    \n    for enemy_type in ENEMY_WEIGHTS:\n        cumulative += ENEMY_WEIGHTS[enemy_type]\n        if roll \u003c cumulative:\n            return enemy_type\n    \n    return \"slime\"\n```\n\n### Scene Files\nCreate matching .tscn files for each new enemy.\n\n### Files to Create/Modify\n1. NEW: `scenes/entities/enemies/bat.tscn`\n2. NEW: `scripts/entities/enemies/bat.gd`\n3. NEW: `scenes/entities/enemies/crab.tscn`\n4. NEW: `scripts/entities/enemies/crab.gd`\n5. MODIFY: `scripts/entities/enemies/enemy_spawner.gd` - spawn variety","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-05T02:15:32.724693-06:00","created_by":"randroid","updated_at":"2026-01-05T02:15:32.724693-06:00"}
{"id":"GoPit-e50","title":"Create PlayerZone Area2D at screen bottom","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:59.815291-06:00","created_by":"randroid","updated_at":"2026-01-04T23:58:36.242512-06:00","closed_at":"2026-01-04T23:58:36.242512-06:00","close_reason":"Closed"}
{"id":"GoPit-enn","title":"Epic 1: Project Foundation","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T23:13:47.558652-06:00","created_by":"randroid","updated_at":"2026-01-04T23:58:36.239341-06:00","closed_at":"2026-01-04T23:58:36.239341-06:00","close_reason":"Closed","dependencies":[{"issue_id":"GoPit-enn","depends_on_id":"GoPit-y92","type":"blocks","created_at":"2026-01-04T23:17:20.40572-06:00","created_by":"randroid"},{"issue_id":"GoPit-enn","depends_on_id":"GoPit-6he","type":"blocks","created_at":"2026-01-04T23:17:20.467427-06:00","created_by":"randroid"},{"issue_id":"GoPit-enn","depends_on_id":"GoPit-9gy","type":"blocks","created_at":"2026-01-04T23:17:20.528016-06:00","created_by":"randroid"},{"issue_id":"GoPit-enn","depends_on_id":"GoPit-1db","type":"blocks","created_at":"2026-01-04T23:17:20.591473-06:00","created_by":"randroid"}]}
{"id":"GoPit-exe","title":"Create EnemySpawner (Timer-based, random X position)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:45.90123-06:00","created_by":"randroid","updated_at":"2026-01-04T23:51:41.18102-06:00","closed_at":"2026-01-04T23:51:41.18102-06:00","close_reason":"Closed"}
{"id":"GoPit-itz","title":"Add wave counter, increment on enemy batch cleared","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T23:16:28.704941-06:00","created_by":"randroid","updated_at":"2026-01-05T00:01:32.995215-06:00","closed_at":"2026-01-05T00:01:32.995215-06:00","close_reason":"Closed"}
{"id":"GoPit-k6s","title":"Add tutorial/onboarding overlay","description":"## Problem\nNew players have no guidance. Controls and objectives must be discovered through experimentation.\n\n## Implementation Plan\n\n### Approach: First-time overlay with step-by-step hints\n\n**File: `scripts/ui/tutorial_overlay.gd`** (new)\n\n```gdscript\nextends CanvasLayer\n\nenum TutorialStep { AIM, FIRE, HIT, COMPLETE }\nvar current_step: TutorialStep = TutorialStep.AIM\nvar has_completed_tutorial: bool = false\n\n@onready var hint_label: Label = $HintLabel\n@onready var highlight: Control = $Highlight\n\nfunc _ready():\n    has_completed_tutorial = _load_tutorial_state()\n    if has_completed_tutorial:\n        queue_free()\n        return\n    _show_step(TutorialStep.AIM)\n\nfunc _show_step(step: TutorialStep):\n    current_step = step\n    match step:\n        TutorialStep.AIM:\n            hint_label.text = \"Drag the joystick to AIM\"\n            _highlight_node(\"VirtualJoystick\")\n        TutorialStep.FIRE:\n            hint_label.text = \"Tap the button to FIRE!\"\n            _highlight_node(\"FireButton\")\n        TutorialStep.HIT:\n            hint_label.text = \"Hit enemies before they reach you!\"\n            _hide_highlight()\n        TutorialStep.COMPLETE:\n            _save_tutorial_complete()\n            _fade_out()\n\nfunc on_joystick_used():\n    if current_step == TutorialStep.AIM:\n        _show_step(TutorialStep.FIRE)\n\nfunc on_ball_fired():\n    if current_step == TutorialStep.FIRE:\n        _show_step(TutorialStep.HIT)\n\nfunc on_enemy_hit():\n    if current_step == TutorialStep.HIT:\n        _show_step(TutorialStep.COMPLETE)\n```\n\n### Visual Design\n- Semi-transparent dark overlay (0.3 alpha)\n- Cut-out highlight around target control\n- Large white text with drop shadow\n- Pulsing animation on highlighted element\n\n### Files to Create/Modify\n1. NEW: `scenes/ui/tutorial_overlay.tscn`\n2. NEW: `scripts/ui/tutorial_overlay.gd`\n3. MODIFY: `scripts/game/game_controller.gd` - emit tutorial events\n4. MODIFY: `scripts/input/virtual_joystick.gd` - notify on first use\n5. MODIFY: `scripts/entities/ball.gd` - notify on enemy hit\n\n### Persistence\nSave tutorial completion to `user://settings.save` so it only shows once.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-05T02:02:56.981642-06:00","created_by":"randroid","updated_at":"2026-01-05T02:30:47.580679-06:00","closed_at":"2026-01-05T02:30:47.580679-06:00","close_reason":"Implemented step-by-step tutorial overlay with highlights for joystick, fire button, and enemy hit"}
{"id":"GoPit-p5d","title":"Collect gems in PlayerZone, add to XP","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:16:14.69802-06:00","created_by":"randroid","updated_at":"2026-01-04T23:58:36.250059-06:00","closed_at":"2026-01-04T23:58:36.250059-06:00","close_reason":"Closed"}
{"id":"GoPit-p89","title":"Spawn gems on enemy death (connect to death signal)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:16:14.435555-06:00","created_by":"randroid","updated_at":"2026-01-04T23:58:36.248921-06:00","closed_at":"2026-01-04T23:58:36.248921-06:00","close_reason":"Closed"}
{"id":"GoPit-qq6","title":"Show persistent aim indicator after joystick release","description":"## Problem\nAim line disappears when joystick is released. Players lose visual feedback of current aim direction.\n\n## Implementation Plan\n\n### Modify Aim Line Behavior\n**Modify: `scripts/input/aim_line.gd`**\n\n```gdscript\nvar is_active: bool = false\nvar last_direction: Vector2 = Vector2.UP\nvar fade_alpha: float = 0.3  # Alpha when not actively aiming\n\nfunc show_line(direction: Vector2, origin: Vector2) -\u003e void:\n    is_active = true\n    last_direction = direction\n    modulate.a = 1.0\n    _update_line(direction, origin)\n\nfunc hide_line() -\u003e void:\n    is_active = false\n    # Don't hide - just fade to ghost state\n    var tween = create_tween()\n    tween.tween_property(self, \"modulate:a\", fade_alpha, 0.2)\n\nfunc _update_line(direction: Vector2, origin: Vector2) -\u003e void:\n    clear_points()\n    add_point(origin)\n    add_point(origin + direction * max_length)\n```\n\n### Wire Up Origin Updates\n**Modify: `scripts/game/game_controller.gd`**\n\n```gdscript\nfunc _process(delta):\n    # Keep ghost aim line updated with ball spawner position\n    if not joystick.is_active and aim_line.visible:\n        aim_line._update_line(aim_line.last_direction, ball_spawner.global_position)\n```\n\n### Visual Styling\n- Active: Bright white, full opacity\n- Ghost: Dim gray, 30% opacity, slightly shorter\n\n### Files to Modify\n1. MODIFY: `scripts/input/aim_line.gd` - ghost state behavior\n2. MODIFY: `scripts/game/game_controller.gd` - update ghost line position","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T02:12:30.92006-06:00","created_by":"randroid","updated_at":"2026-01-05T02:12:30.92006-06:00"}
{"id":"GoPit-s0e","title":"Epic 4: Enemy System","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T23:13:58.485858-06:00","created_by":"randroid","updated_at":"2026-01-05T01:14:16.658808-06:00","closed_at":"2026-01-05T01:14:16.658808-06:00","close_reason":"All sub-tasks completed","dependencies":[{"issue_id":"GoPit-s0e","depends_on_id":"GoPit-1o7","type":"blocks","created_at":"2026-01-04T23:17:25.893714-06:00","created_by":"randroid"},{"issue_id":"GoPit-s0e","depends_on_id":"GoPit-zju","type":"blocks","created_at":"2026-01-04T23:17:25.955312-06:00","created_by":"randroid"},{"issue_id":"GoPit-s0e","depends_on_id":"GoPit-exe","type":"blocks","created_at":"2026-01-04T23:17:26.017009-06:00","created_by":"randroid"},{"issue_id":"GoPit-s0e","depends_on_id":"GoPit-tql","type":"blocks","created_at":"2026-01-04T23:17:26.078015-06:00","created_by":"randroid"},{"issue_id":"GoPit-s0e","depends_on_id":"GoPit-7of","type":"blocks","created_at":"2026-01-04T23:17:26.137822-06:00","created_by":"randroid"},{"issue_id":"GoPit-s0e","depends_on_id":"GoPit-8hv","type":"blocks","created_at":"2026-01-04T23:17:45.112285-06:00","created_by":"randroid"}]}
{"id":"GoPit-sm9","title":"Add wall StaticBody2D boundaries (left/right)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:31.941053-06:00","created_by":"randroid","updated_at":"2026-01-04T23:53:52.026144-06:00","closed_at":"2026-01-04T23:53:52.026144-06:00","close_reason":"Closed"}
{"id":"GoPit-t1b","title":"Increase spawn rate gradually with waves","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T23:16:29.218771-06:00","created_by":"randroid","updated_at":"2026-01-05T00:01:32.997861-06:00","closed_at":"2026-01-05T00:01:32.997861-06:00","close_reason":"Closed"}
{"id":"GoPit-tnn","title":"Epic 7: Wave Progression \u0026 Polish","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T23:14:07.262618-06:00","created_by":"randroid","updated_at":"2026-01-05T01:15:43.925306-06:00","closed_at":"2026-01-05T01:15:43.925306-06:00","close_reason":"All required sub-tasks completed (sounds optional)","dependencies":[{"issue_id":"GoPit-tnn","depends_on_id":"GoPit-itz","type":"blocks","created_at":"2026-01-04T23:17:27.471623-06:00","created_by":"randroid"},{"issue_id":"GoPit-tnn","depends_on_id":"GoPit-a8z","type":"blocks","created_at":"2026-01-04T23:17:27.532744-06:00","created_by":"randroid"},{"issue_id":"GoPit-tnn","depends_on_id":"GoPit-t1b","type":"blocks","created_at":"2026-01-04T23:17:27.594609-06:00","created_by":"randroid"},{"issue_id":"GoPit-tnn","depends_on_id":"GoPit-4mj","type":"blocks","created_at":"2026-01-04T23:17:27.657053-06:00","created_by":"randroid"},{"issue_id":"GoPit-tnn","depends_on_id":"GoPit-9vr","type":"blocks","created_at":"2026-01-04T23:17:27.71829-06:00","created_by":"randroid"},{"issue_id":"GoPit-tnn","depends_on_id":"GoPit-4le","type":"blocks","created_at":"2026-01-04T23:17:45.809106-06:00","created_by":"randroid"},{"issue_id":"GoPit-tnn","depends_on_id":"GoPit-9as","type":"blocks","created_at":"2026-01-04T23:17:45.870081-06:00","created_by":"randroid"}]}
{"id":"GoPit-tql","title":"Implement enemy hit flash visual feedback","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:46.161777-06:00","created_by":"randroid","updated_at":"2026-01-04T23:51:41.182245-06:00","closed_at":"2026-01-04T23:51:41.182245-06:00","close_reason":"Closed"}
{"id":"GoPit-ud8","title":"Create gem.tscn (procedural sparkle, value property)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:16:14.172012-06:00","created_by":"randroid","updated_at":"2026-01-04T23:58:36.247896-06:00","closed_at":"2026-01-04T23:58:36.247896-06:00","close_reason":"Closed"}
{"id":"GoPit-vmo","title":"Add floating XP text on gem collection","description":"## Problem\nWhen collecting gems, XP bar fills silently. No indication of amount gained.\n\n## Implementation Plan\n\n### Create Floating Text Component\n**File: `scripts/effects/floating_text.gd`** (new)\n\n```gdscript\nextends Label\n\n@export var float_distance: float = 60.0\n@export var duration: float = 0.8\n\nfunc _ready():\n    # Center the label\n    horizontal_alignment = HORIZONTAL_ALIGNMENT_CENTER\n    \n    # Animation\n    var tween = create_tween()\n    tween.set_parallel(true)\n    \n    # Float up\n    tween.tween_property(self, \"position:y\", position.y - float_distance, duration)\n    \n    # Fade out (delayed start)\n    modulate.a = 1.0\n    tween.tween_property(self, \"modulate:a\", 0.0, duration * 0.5).set_delay(duration * 0.5)\n    \n    # Scale pop\n    scale = Vector2(0.5, 0.5)\n    tween.tween_property(self, \"scale\", Vector2(1.0, 1.0), 0.15).set_ease(Tween.EASE_OUT)\n    \n    tween.chain().tween_callback(queue_free)\n\nstatic func spawn(parent: Node, pos: Vector2, text: String, color: Color = Color.WHITE):\n    var label = preload(\"res://scenes/effects/floating_text.tscn\").instantiate()\n    label.text = text\n    label.position = pos\n    label.modulate = color\n    parent.add_child(label)\n```\n\n### Scene Setup\n**File: `scenes/effects/floating_text.tscn`**\n\n```\nFloatingText (Label)\n- font_size: 24\n- outline_size: 2\n- outline_color: black\n- z_index: 100\n```\n\n### Wire Up XP Display\n**Modify: `scripts/game/game_controller.gd`**\n\n```gdscript\nfunc _on_player_zone_area_entered(area: Area2D) -\u003e void:\n    if area.collision_layer \u0026 8:  # Gem layer\n        if area.has_method(\"get_xp_value\"):\n            var xp = area.get_xp_value()\n            GameManager.add_xp(xp)\n            \n            # Spawn floating text\n            FloatingText.spawn(\n                self,\n                area.global_position,\n                \"+%d XP\" % xp,\n                Color(0.3, 1.0, 0.5)  # Green tint\n            )\n        \n        SoundManager.play(SoundManager.SoundType.GEM_COLLECT)\n        area.queue_free()\n```\n\n### Optional: XP Bar Pulse\n**Modify: `scripts/ui/hud.gd`**\n\n```gdscript\nfunc _on_xp_gained():\n    var tween = create_tween()\n    tween.tween_property(xp_bar, \"modulate\", Color(1.5, 1.5, 1.5), 0.1)\n    tween.tween_property(xp_bar, \"modulate\", Color.WHITE, 0.2)\n```\n\n### Files to Create/Modify\n1. NEW: `scenes/effects/floating_text.tscn`\n2. NEW: `scripts/effects/floating_text.gd`\n3. MODIFY: `scripts/game/game_controller.gd` - spawn floating text\n4. MODIFY: `scripts/ui/hud.gd` - XP bar pulse (optional)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T02:13:40.513145-06:00","created_by":"randroid","updated_at":"2026-01-05T02:13:40.513145-06:00"}
{"id":"GoPit-w3h","title":"Reduce joystick dead zone for responsiveness","description":"## Problem\n10% dead zone (8px on 80px radius) might feel laggy for small movements.\n\n## Implementation Plan\n\n### Reduce Dead Zone\n**Modify: `scripts/input/virtual_joystick.gd`**\n\n```gdscript\n# Change from 0.1 to 0.05\n@export var dead_zone: float = 0.05  # 5% dead zone = 4px\n```\n\n### Add Visual Dead Zone Feedback (Optional)\nShow subtle indicator when in dead zone:\n\n```gdscript\nfunc _process(_delta):\n    if is_active:\n        var distance = knob_position.length() / max_distance\n        \n        if distance \u003c dead_zone:\n            # In dead zone - show subtle feedback\n            knob.modulate = Color(0.7, 0.7, 0.7)\n        else:\n            knob.modulate = Color.WHITE\n```\n\n### Alternative: Adaptive Dead Zone\nSmaller dead zone for precise aiming, larger when moving fast:\n\n```gdscript\nfunc _calculate_dead_zone() -\u003e float:\n    # If knob was moving fast recently, use larger dead zone\n    # For precision aiming, use smaller dead zone\n    var velocity = (knob_position - last_knob_position).length()\n    last_knob_position = knob_position\n    \n    if velocity \u003e 10:\n        return 0.1  # Fast movement - larger dead zone\n    else:\n        return 0.05  # Slow/precise - smaller dead zone\n```\n\n### Files to Modify\n1. MODIFY: `scripts/input/virtual_joystick.gd` - reduce dead zone","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-05T02:13:41.034539-06:00","created_by":"randroid","updated_at":"2026-01-05T02:13:41.034539-06:00"}
{"id":"GoPit-xb8","title":"Create game_over.tscn overlay with Restart button","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:16:00.596768-06:00","created_by":"randroid","updated_at":"2026-01-04T23:58:36.245736-06:00","closed_at":"2026-01-04T23:58:36.245736-06:00","close_reason":"Closed"}
{"id":"GoPit-y1l","title":"Integrate input components into game.tscn","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:20.91489-06:00","created_by":"randroid","updated_at":"2026-01-04T23:53:52.021638-06:00","closed_at":"2026-01-04T23:53:52.021638-06:00","close_reason":"Closed"}
{"id":"GoPit-y92","title":"Create project.godot with portrait 720x1280, gl_compatibility renderer","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:05.484161-06:00","created_by":"randroid","updated_at":"2026-01-04T23:30:02.747085-06:00","closed_at":"2026-01-04T23:30:02.747085-06:00","close_reason":"Closed"}
{"id":"GoPit-ya7","title":"Epic 2: Input \u0026 Aiming","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T23:13:52.760854-06:00","created_by":"randroid","updated_at":"2026-01-04T23:58:48.443681-06:00","closed_at":"2026-01-04T23:58:48.443681-06:00","close_reason":"Closed","dependencies":[{"issue_id":"GoPit-ya7","depends_on_id":"GoPit-6wl","type":"blocks","created_at":"2026-01-04T23:17:24.964918-06:00","created_by":"randroid"},{"issue_id":"GoPit-ya7","depends_on_id":"GoPit-84z","type":"blocks","created_at":"2026-01-04T23:17:25.027772-06:00","created_by":"randroid"},{"issue_id":"GoPit-ya7","depends_on_id":"GoPit-4ap","type":"blocks","created_at":"2026-01-04T23:17:25.089482-06:00","created_by":"randroid"},{"issue_id":"GoPit-ya7","depends_on_id":"GoPit-y1l","type":"blocks","created_at":"2026-01-04T23:17:25.150324-06:00","created_by":"randroid"},{"issue_id":"GoPit-ya7","depends_on_id":"GoPit-enn","type":"blocks","created_at":"2026-01-04T23:17:44.649119-06:00","created_by":"randroid"}]}
{"id":"GoPit-zb6","title":"Add high score persistence","description":"## Problem\nNo persistence between sessions. Players can't track their best runs.\n\n## Implementation Plan\n\n### High Score Data Structure\n**Modify: `scripts/autoload/game_manager.gd`** (or create new autoload)\n\n```gdscript\nvar high_scores := {\n    \"highest_wave\": 0,\n    \"highest_level\": 0,\n    \"most_enemies_killed\": 0,\n    \"longest_survival\": 0.0,\n    \"highest_combo\": 0,\n    \"total_runs\": 0\n}\n\nfunc _ready():\n    _load_high_scores()\n\nfunc _load_high_scores():\n    if FileAccess.file_exists(\"user://highscores.save\"):\n        var file = FileAccess.open(\"user://highscores.save\", FileAccess.READ)\n        var data = JSON.parse_string(file.get_as_text())\n        if data:\n            for key in high_scores:\n                if key in data:\n                    high_scores[key] = data[key]\n\nfunc _save_high_scores():\n    var file = FileAccess.open(\"user://highscores.save\", FileAccess.WRITE)\n    file.store_string(JSON.stringify(high_scores))\n\nfunc check_high_scores():\n    var new_records: Array[String] = []\n    \n    if current_wave \u003e high_scores.highest_wave:\n        high_scores.highest_wave = current_wave\n        new_records.append(\"Wave\")\n    \n    if player_level \u003e high_scores.highest_level:\n        high_scores.highest_level = player_level\n        new_records.append(\"Level\")\n    \n    if stats.enemies_killed \u003e high_scores.most_enemies_killed:\n        high_scores.most_enemies_killed = stats.enemies_killed\n        new_records.append(\"Enemies\")\n    \n    if stats.time_survived \u003e high_scores.longest_survival:\n        high_scores.longest_survival = stats.time_survived\n        new_records.append(\"Time\")\n    \n    if stats.highest_combo \u003e high_scores.highest_combo:\n        high_scores.highest_combo = stats.highest_combo\n        new_records.append(\"Combo\")\n    \n    high_scores.total_runs += 1\n    _save_high_scores()\n    \n    return new_records\n\nfunc end_game():\n    var new_records = check_high_scores()\n    # ... existing code ...\n    # new_records can be passed to game over screen\n```\n\n### Game Over Screen Updates\n**Modify: `scripts/ui/game_over_overlay.gd`**\n\n```gdscript\n@onready var new_record_label: Label = $Panel/VBoxContainer/NewRecordLabel\n@onready var high_score_container: VBoxContainer = $Panel/VBoxContainer/HighScores\n\nfunc _on_game_over():\n    visible = true\n    \n    # Display current run stats...\n    \n    # Check for new records\n    var new_records = GameManager.check_high_scores()\n    if new_records.size() \u003e 0:\n        new_record_label.visible = true\n        new_record_label.text = \"NEW RECORD: \" + \", \".join(new_records)\n        _animate_new_record()\n    else:\n        new_record_label.visible = false\n    \n    # Show all-time high scores\n    _display_high_scores()\n\nfunc _display_high_scores():\n    var hs = GameManager.high_scores\n    $HighWave.text = \"Best Wave: %d\" % hs.highest_wave\n    $HighLevel.text = \"Best Level: %d\" % hs.highest_level\n    $HighEnemies.text = \"Most Kills: %d\" % hs.most_enemies_killed\n    $TotalRuns.text = \"Total Runs: %d\" % hs.total_runs\n\nfunc _animate_new_record():\n    var tween = create_tween().set_loops(3)\n    tween.tween_property(new_record_label, \"modulate\", Color.YELLOW, 0.3)\n    tween.tween_property(new_record_label, \"modulate\", Color.WHITE, 0.3)\n```\n\n### Files to Modify\n1. MODIFY: `scripts/autoload/game_manager.gd` - high score tracking\n2. MODIFY: `scenes/ui/game_over_overlay.tscn` - add high score display\n3. MODIFY: `scripts/ui/game_over_overlay.gd` - display high scores","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-05T02:15:33.254257-06:00","created_by":"randroid","updated_at":"2026-01-05T02:15:33.254257-06:00","dependencies":[{"issue_id":"GoPit-zb6","depends_on_id":"GoPit-33z","type":"blocks","created_at":"2026-01-05T02:15:50.563357-06:00","created_by":"randroid"}]}
{"id":"GoPit-zju","title":"Create slime.tscn (procedural graphic, straight-down movement)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-04T23:15:45.643608-06:00","created_by":"randroid","updated_at":"2026-01-04T23:51:41.179724-06:00","closed_at":"2026-01-04T23:51:41.179724-06:00","close_reason":"Closed"}
{"id":"GoPit-zmz","title":"Add pause menu with mute option","description":"## Problem\nPlayers cannot pause the game. On mobile, interruptions are constant (notifications, calls, switching apps).\n\n## Implementation Plan\n\n### Phase 1: Pause State in GameManager\n**Modify: `scripts/autoload/game_manager.gd`**\n\n```gdscript\n# Already has PAUSED state, just need to wire it up\n\nfunc toggle_pause():\n    if current_state == GameState.PLAYING:\n        pause_game()\n    elif current_state == GameState.PAUSED:\n        resume_game()\n```\n\n### Phase 2: Pause Overlay UI\n**File: `scenes/ui/pause_overlay.tscn`** (new)\n\n```\nPauseOverlay (CanvasLayer) [process_mode=ALWAYS]\n‚îî‚îÄ‚îÄ ColorRect (dim background, 0.5 alpha black)\n    ‚îî‚îÄ‚îÄ Panel (centered)\n        ‚îî‚îÄ‚îÄ VBoxContainer\n            ‚îú‚îÄ‚îÄ Label (\"PAUSED\")\n            ‚îú‚îÄ‚îÄ ResumeButton\n            ‚îú‚îÄ‚îÄ SettingsButton\n            ‚îî‚îÄ‚îÄ QuitButton\n```\n\n**File: `scripts/ui/pause_overlay.gd`**\n\n```gdscript\nextends CanvasLayer\n\nfunc _ready():\n    visible = false\n    process_mode = Node.PROCESS_MODE_ALWAYS\n\nfunc _unhandled_input(event):\n    # Handle back button on Android\n    if event.is_action_pressed(\"ui_cancel\"):\n        _toggle_pause()\n\nfunc _toggle_pause():\n    visible = !visible\n    if visible:\n        GameManager.pause_game()\n    else:\n        GameManager.resume_game()\n\nfunc _on_resume_pressed():\n    _toggle_pause()\n\nfunc _on_settings_pressed():\n    # Show settings overlay\n    pass\n\nfunc _on_quit_pressed():\n    get_tree().paused = false\n    get_tree().reload_current_scene()\n```\n\n### Phase 3: Pause Button on HUD\n**Modify: `scenes/game.tscn`**\n\nAdd pause button (hamburger/pause icon) in top-right corner of HUD.\n\n**Modify: `scripts/ui/hud.gd`**\n\n```gdscript\n@onready var pause_button: Button = $TopBar/PauseButton\n@onready var pause_overlay: CanvasLayer = $\"../PauseOverlay\"\n\nfunc _ready():\n    pause_button.pressed.connect(_on_pause_pressed)\n\nfunc _on_pause_pressed():\n    pause_overlay._toggle_pause()\n```\n\n### Phase 4: Auto-pause on App Background\n**Modify: `scripts/game/game_controller.gd`**\n\n```gdscript\nfunc _notification(what):\n    if what == NOTIFICATION_APPLICATION_FOCUS_OUT:\n        if GameManager.current_state == GameManager.GameState.PLAYING:\n            GameManager.pause_game()\n            pause_overlay.visible = true\n```\n\n### Files to Create/Modify\n1. NEW: `scenes/ui/pause_overlay.tscn`\n2. NEW: `scripts/ui/pause_overlay.gd`\n3. MODIFY: `scenes/game.tscn` - add pause button, pause overlay\n4. MODIFY: `scripts/ui/hud.gd` - wire pause button\n5. MODIFY: `scripts/game/game_controller.gd` - auto-pause on focus out\n\n### Testing\n- Verify pause freezes all gameplay\n- Verify resume continues correctly\n- Verify auto-pause on app background\n- Verify back button works on Android","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-05T01:48:08.029743-06:00","created_by":"randroid","updated_at":"2026-01-05T02:21:51.365656-06:00","closed_at":"2026-01-05T02:21:51.365656-06:00","close_reason":"Implemented pause menu with mute toggle, auto-pause on focus loss"}
